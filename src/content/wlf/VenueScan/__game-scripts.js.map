{"version":3,"sources":["scripts/touch-input.js","scripts/orbit-camera.js","scripts/mouse-input.js","scripts/keyboard-input.js","scripts/animate-rotation.js","scripts/animate-position.js","scripts/animate-scale.js","scripts/iframe-plane.js","scripts/css3-renderer.js","scripts/frame-on-event.js","scripts/event-on-click.js","scripts/event-on-key.js","parallax-cam.js","scripts/animEvent-to-event.js","scripts/animateOnEvent.js","scripts/idle-animation-timer.js","scripts/event-on-ui-click.js","scripts/event-to-event.js","scripts/Audio/soundOnEvent.js","set-html-gradient-bg.js","scripts/animation-handler.js","anim-trigger.js","shadow-catcher/shadow-catcher.js","Assets/Mesh/20230306_GIZMO.fbx/cameraAnimation.js","scripts/event-to-events.js","scripts/ShadowCatcher/EntityEnableOnAr.js","scripts/UI/html-loader.js","scripts/third-party/Tween Animation Library/tween.js","scripts/ShadowCatcher/ar-ground.js"],"names":[],"mappings":"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","sourcesContent":["// touch-input.js\nvar TouchInput = pc.createScript('touchInput');\n\nTouchInput.attributes.add('orbitSensitivity', {\n    type: 'number', \n    default: 0.4, \n    title: 'Orbit Sensitivity', \n    description: 'How fast the camera moves around the orbit. Higher is faster'\n});\n\nTouchInput.attributes.add('distanceSensitivity', {\n    type: 'number', \n    default: 0.2, \n    title: 'Distance Sensitivity', \n    description: 'How fast the camera moves in and out. Higher is faster'\n});\n\n// initialize code called once per entity\nTouchInput.prototype.initialize = function() {\n    this.orbitCamera = this.entity.script.orbitCamera;\n    \n    // Store the position of the touch so we can calculate the distance moved\n    this.lastTouchPoint = new pc.Vec2();\n    this.lastPinchMidPoint = new pc.Vec2();\n    this.lastPinchDistance = 0;\n    \n    if (this.orbitCamera && this.app.touch) {\n        // Use the same callback for the touchStart, touchEnd and touchCancel events as they \n        // all do the same thing which is to deal the possible multiple touches to the screen\n        this.app.touch.on(pc.EVENT_TOUCHSTART, this.onTouchStartEndCancel, this);\n        this.app.touch.on(pc.EVENT_TOUCHEND, this.onTouchStartEndCancel, this);\n        this.app.touch.on(pc.EVENT_TOUCHCANCEL, this.onTouchStartEndCancel, this);\n        \n        this.app.touch.on(pc.EVENT_TOUCHMOVE, this.onTouchMove, this);\n        \n        this.on('destroy', function() {\n            this.app.touch.off(pc.EVENT_TOUCHSTART, this.onTouchStartEndCancel, this);\n            this.app.touch.off(pc.EVENT_TOUCHEND, this.onTouchStartEndCancel, this);\n            this.app.touch.off(pc.EVENT_TOUCHCANCEL, this.onTouchStartEndCancel, this);\n\n            this.app.touch.off(pc.EVENT_TOUCHMOVE, this.onTouchMove, this);\n        });\n    }\n};\n\n\nTouchInput.prototype.getPinchDistance = function (pointA, pointB) {\n    // Return the distance between the two points\n    var dx = pointA.x - pointB.x;\n    var dy = pointA.y - pointB.y;    \n    \n    return Math.sqrt((dx * dx) + (dy * dy));\n};\n\n\nTouchInput.prototype.calcMidPoint = function (pointA, pointB, result) {\n    result.set(pointB.x - pointA.x, pointB.y - pointA.y);\n    result.scale(0.5);\n    result.x += pointA.x;\n    result.y += pointA.y;\n};\n\n\nTouchInput.prototype.onTouchStartEndCancel = function(event) {\n    // We only care about the first touch for camera rotation. As the user touches the screen, \n    // we stored the current touch position\n    var touches = event.touches;\n    if (touches.length == 1) {\n        this.lastTouchPoint.set(touches[0].x, touches[0].y);\n    \n    } else if (touches.length == 2) {\n        // If there are 2 touches on the screen, then set the pinch distance\n        this.lastPinchDistance = this.getPinchDistance(touches[0], touches[1]);\n        this.calcMidPoint(touches[0], touches[1], this.lastPinchMidPoint);\n    }\n};\n\n\nTouchInput.fromWorldPoint = new pc.Vec3();\nTouchInput.toWorldPoint = new pc.Vec3();\nTouchInput.worldDiff = new pc.Vec3();\n\n\nTouchInput.prototype.pan = function(midPoint) {\n    var fromWorldPoint = TouchInput.fromWorldPoint;\n    var toWorldPoint = TouchInput.toWorldPoint;\n    var worldDiff = TouchInput.worldDiff;\n    \n    // For panning to work at any zoom level, we use screen point to world projection\n    // to work out how far we need to pan the pivotEntity in world space \n    var camera = this.entity.camera;\n    var distance = this.orbitCamera.distance;\n    \n    camera.screenToWorld(midPoint.x, midPoint.y, distance, fromWorldPoint);\n    camera.screenToWorld(this.lastPinchMidPoint.x, this.lastPinchMidPoint.y, distance, toWorldPoint);\n    \n    worldDiff.sub2(toWorldPoint, fromWorldPoint);\n     \n    this.orbitCamera.pivotPoint.add(worldDiff);    \n};\n\n\nTouchInput.pinchMidPoint = new pc.Vec2();\n\nTouchInput.prototype.onTouchMove = function(event) {\n    var pinchMidPoint = TouchInput.pinchMidPoint;\n    \n    // We only care about the first touch for camera rotation. Work out the difference moved since the last event\n    // and use that to update the camera target position \n    var touches = event.touches;\n    if (touches.length == 1) {\n        var touch = touches[0];\n        \n        this.orbitCamera.pitch -= (touch.y - this.lastTouchPoint.y) * this.orbitSensitivity;\n        this.orbitCamera.yaw -= (touch.x - this.lastTouchPoint.x) * this.orbitSensitivity;\n        \n        this.lastTouchPoint.set(touch.x, touch.y);\n    \n    } else if (touches.length == 2) {\n        // Calculate the difference in pinch distance since the last event\n        var currentPinchDistance = this.getPinchDistance(touches[0], touches[1]);\n        var diffInPinchDistance = currentPinchDistance - this.lastPinchDistance;\n        this.lastPinchDistance = currentPinchDistance;\n                \n        this.orbitCamera.distance -= (diffInPinchDistance * this.distanceSensitivity * 0.1) * (this.orbitCamera.distance * 0.1);\n        \n        // Calculate pan difference\n        this.calcMidPoint(touches[0], touches[1], pinchMidPoint);\n        this.pan(pinchMidPoint);\n        this.lastPinchMidPoint.copy(pinchMidPoint);\n    }\n};\n\n\n","// orbit-camera.js\nvar OrbitCamera = pc.createScript('orbitCamera');\n\nOrbitCamera.attributes.add('autoRender', {\n    type: 'boolean',\n    default: true,\n    title: 'Auto Render',\n    description: 'Disable to only render when camera is moving (saves power when the camera is still)'\n});\n\nOrbitCamera.attributes.add('distanceMax', { type: 'number', default: 0, title: 'Distance Max', description: 'Setting this at 0 will give an infinite distance limit' });\nOrbitCamera.attributes.add('distanceMin', { type: 'number', default: 0, title: 'Distance Min' });\nOrbitCamera.attributes.add('pitchAngleMax', { type: 'number', default: 90, title: 'Pitch Angle Max (degrees)' });\nOrbitCamera.attributes.add('pitchAngleMin', { type: 'number', default: -90, title: 'Pitch Angle Min (degrees)' });\n\nOrbitCamera.attributes.add('inertiaFactor', {\n    type: 'number',\n    default: 0,\n    title: 'Inertia Factor',\n    description: 'Higher value means that the camera will continue moving after the user has stopped dragging. 0 is fully responsive.'\n});\n\nOrbitCamera.attributes.add('focusEntity', {\n    type: 'entity',\n    title: 'Focus Entity',\n    description: 'Entity for the camera to focus on. If blank, then the camera will use the whole scene'\n});\n\nOrbitCamera.attributes.add('frameOnStart', {\n    type: 'boolean',\n    default: true,\n    title: 'Frame on Start',\n    description: 'Frames the entity or scene at the start of the application.\"'\n});\n\n\n// Property to get and set the distance between the pivot point and camera\n// Clamped between this.distanceMin and this.distanceMax\nObject.defineProperty(OrbitCamera.prototype, \"distance\", {\n    get: function () {\n        return this._targetDistance;\n    },\n\n    set: function (value) {\n        this._targetDistance = this._clampDistance(value);\n    }\n});\n\n\n// Property to get and set the pitch of the camera around the pivot point (degrees)\n// Clamped between this.pitchAngleMin and this.pitchAngleMax\n// When set at 0, the camera angle is flat, looking along the horizon\nObject.defineProperty(OrbitCamera.prototype, \"pitch\", {\n    get: function () {\n        return this._targetPitch;\n    },\n\n    set: function (value) {\n        this._targetPitch = this._clampPitchAngle(value);\n    }\n});\n\n\n// Property to get and set the yaw of the camera around the pivot point (degrees)\nObject.defineProperty(OrbitCamera.prototype, \"yaw\", {\n    get: function () {\n        return this._targetYaw;\n    },\n\n    set: function (value) {\n        this._targetYaw = value;\n\n        // Ensure that the yaw takes the shortest route by making sure that \n        // the difference between the targetYaw and the actual is 180 degrees\n        // in either direction\n        var diff = this._targetYaw - this._yaw;\n        var reminder = diff % 360;\n        if (reminder > 180) {\n            this._targetYaw = this._yaw - (360 - reminder);\n        } else if (reminder < -180) {\n            this._targetYaw = this._yaw + (360 + reminder);\n        } else {\n            this._targetYaw = this._yaw + reminder;\n        }\n    }\n});\n\n\n// Property to get and set the world position of the pivot point that the camera orbits around\nObject.defineProperty(OrbitCamera.prototype, \"pivotPoint\", {\n    get: function () {\n        return this._pivotPoint;\n    },\n\n    set: function (value) {\n        this._pivotPoint.copy(value);\n    }\n});\n\n\n// Moves the camera to look at an entity and all its children so they are all in the view\nOrbitCamera.prototype.focus = function (focusEntity) {\n    // Calculate an bounding box that encompasses all the models to frame in the camera view\n    this._buildAabb(focusEntity, 0);\n\n    var halfExtents = this._modelsAabb.halfExtents;\n\n    var distance = Math.max(halfExtents.x, Math.max(halfExtents.y, halfExtents.z));\n    distance = (distance / Math.tan(0.5 * this.entity.camera.fov * pc.math.DEG_TO_RAD));\n    distance = (distance * 2);\n\n    this.distance = distance;\n\n    this._removeInertia();\n\n    this._pivotPoint.copy(this._modelsAabb.center);\n};\n\n\nOrbitCamera.distanceBetween = new pc.Vec3();\n\n// Set the camera position to a world position and look at a world position\n// Useful if you have multiple viewing angles to swap between in a scene\nOrbitCamera.prototype.resetAndLookAtPoint = function (resetPoint, lookAtPoint) {\n    this.pivotPoint.copy(lookAtPoint);\n    this.entity.setPosition(resetPoint);\n\n    this.entity.lookAt(lookAtPoint);\n\n    var distance = OrbitCamera.distanceBetween;\n    distance.sub2(lookAtPoint, resetPoint);\n    this.distance = distance.length();\n\n    this.pivotPoint.copy(lookAtPoint);\n\n    var cameraQuat = this.entity.getRotation();\n    this.yaw = this._calcYaw(cameraQuat);\n    this.pitch = this._calcPitch(cameraQuat, this.yaw);\n\n    this._removeInertia();\n    this._updatePosition();\n\n    if (!this.autoRender) {\n        this.app.renderNextFrame = true;\n    }\n};\n\n\n// Set camera position to a world position and look at an entity in the scene\n// Useful if you have multiple models to swap between in a scene\nOrbitCamera.prototype.resetAndLookAtEntity = function (resetPoint, entity) {\n    this._buildAabb(entity, 0);\n    this.resetAndLookAtPoint(resetPoint, this._modelsAabb.center);\n};\n\n\n// Set the camera at a specific, yaw, pitch and distance without inertia (instant cut)\nOrbitCamera.prototype.reset = function (yaw, pitch, distance) {\n    this.pitch = pitch;\n    this.yaw = yaw;\n    this.distance = distance;\n\n    this._removeInertia();\n\n    if (!this.autoRender) {\n        this.app.renderNextFrame = true;\n    }\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////\n// Private methods\n\nOrbitCamera.prototype.initialize = function () {\n    this._checkAspectRatio();\n\n    // Find all the models in the scene that are under the focused entity\n    this._modelsAabb = new pc.BoundingBox();\n    this._buildAabb(this.focusEntity || this.app.root, 0);\n\n    this.entity.lookAt(this._modelsAabb.center);\n\n    this._pivotPoint = new pc.Vec3();\n    this._pivotPoint.copy(this._modelsAabb.center);\n\n    this._lastFramePivotPoint = this._pivotPoint.clone();\n\n    // Calculate the camera euler angle rotation around x and y axes\n    // This allows us to place the camera at a particular rotation to begin with in the scene\n    var cameraQuat = this.entity.getRotation();\n\n    // Preset the camera\n    this._yaw = this._calcYaw(cameraQuat);\n    this._pitch = this._clampPitchAngle(this._calcPitch(cameraQuat, this._yaw));\n    this.entity.setLocalEulerAngles(this._pitch, this._yaw, 0);\n\n    this._distance = 0;\n\n    this._targetYaw = this._yaw;\n    this._targetPitch = this._pitch;\n\n    // If we have ticked focus on start, then attempt to position the camera where it frames\n    // the focused entity and move the pivot point to entity's position otherwise, set the distance\n    // to be between the camera position in the scene and the pivot point\n    if (this.frameOnStart) {\n        this.focus(this.focusEntity || this.app.root);\n    } else {\n        var distanceBetween = new pc.Vec3();\n        distanceBetween.sub2(this.entity.getPosition(), this._pivotPoint);\n        this._distance = this._clampDistance(distanceBetween.length());\n    }\n\n    this._targetDistance = this._distance;\n\n    this._autoRenderDefault = this.app.autoRender;\n\n    // Do not enable autoRender if it's already off as it's controlled elsewhere\n    if (this.app.autoRender) {\n        this.app.autoRender = this.autoRender;\n    }\n\n    if (!this.autoRender) {\n        this.app.renderNextFrame = true;\n    }\n\n    this.on('attr:autoRender', function (value, prev) {\n        this.app.autoRender = value;\n        if (!this.autoRender) {\n            this.app.renderNextFrame = true;\n        }\n    }, this);\n\n    // Reapply the clamps if they are changed in the editor\n    this.on('attr:distanceMin', function (value, prev) {\n        this._targetDistance = this._clampDistance(this._distance);\n    }, this);\n\n    this.on('attr:distanceMax', function (value, prev) {\n        this._targetDistance = this._clampDistance(this._distance);\n    }, this);\n\n    this.on('attr:pitchAngleMin', function (value, prev) {\n        this._targetPitch = this._clampPitchAngle(this._pitch);\n    }, this);\n\n    this.on('attr:pitchAngleMax', function (value, prev) {\n        this._targetPitch = this._clampPitchAngle(this._pitch);\n    }, this);\n\n    // Focus on the entity if we change the focus entity\n    this.on('attr:focusEntity', function (value, prev) {\n        if (this.frameOnStart) {\n            this.focus(value || this.app.root);\n        } else {\n            this.resetAndLookAtEntity(this.entity.getPosition(), value || this.app.root);\n        }\n    }, this);\n\n    this.on('attr:frameOnStart', function (value, prev) {\n        if (value) {\n            this.focus(this.focusEntity || this.app.root);\n        }\n    }, this);\n\n    var onResizeCanvas = function () {\n        this._checkAspectRatio();\n        if (!this.autoRender) {\n            this.app.renderNextFrame = true;\n        }\n    };\n\n    this.app.graphicsDevice.on('resizecanvas', onResizeCanvas, this);\n\n    this.on('destroy', function () {\n        this.app.graphicsDevice.off('resizecanvas', onResizeCanvas, this);\n        this.app.autoRender = this._autoRenderDefault;\n    }, this);\n};\n\n\nOrbitCamera.prototype.update = function (dt) {\n    // Check if we have are still moving for autorender\n    if (!this.autoRender) {\n        var distanceDiff = Math.abs(this._targetDistance - this._distance);\n        var yawDiff = Math.abs(this._targetYaw - this._yaw);\n        var pitchDiff = Math.abs(this._targetPitch - this._pitch);\n        var pivotPointDiff = this._lastFramePivotPoint.distance(this._pivotPoint);\n\n        this.app.renderNextFrame = this.app.renderNextFrame ||\n            distanceDiff > 0.01 || yawDiff > 0.01 || pitchDiff > 0.01 || pivotPointDiff > 0;\n    }\n\n    // Add inertia, if any\n    var t = this.inertiaFactor === 0 ? 1 : Math.min(dt / this.inertiaFactor, 1);\n    this._distance = pc.math.lerp(this._distance, this._targetDistance, t);\n    this._yaw = pc.math.lerp(this._yaw, this._targetYaw, t);\n    this._pitch = pc.math.lerp(this._pitch, this._targetPitch, t);\n\n    this._lastFramePivotPoint.copy(this._pivotPoint);\n\n    this._updatePosition();\n};\n\n\nOrbitCamera.prototype._updatePosition = function () {\n    // Work out the camera position based on the pivot point, pitch, yaw and distance\n    this.entity.setLocalPosition(0, 0, 0);\n    this.entity.setLocalEulerAngles(this._pitch, this._yaw, 0);\n\n    var position = this.entity.getPosition();\n    position.copy(this.entity.forward);\n    position.scale(-this._distance);\n    position.add(this.pivotPoint);\n    this.entity.setPosition(position);\n};\n\n\nOrbitCamera.prototype._removeInertia = function () {\n    this._yaw = this._targetYaw;\n    this._pitch = this._targetPitch;\n    this._distance = this._targetDistance;\n};\n\n\nOrbitCamera.prototype._checkAspectRatio = function () {\n    var height = this.app.graphicsDevice.height;\n    var width = this.app.graphicsDevice.width;\n\n    // Match the axis of FOV to match the aspect ratio of the canvas so\n    // the focused entities is always in frame\n    this.entity.camera.horizontalFov = height > width;\n};\n\n\nOrbitCamera.prototype._buildAabb = function (entity, modelsAdded) {\n    var i = 0, j = 0, meshInstances;\n\n    if (entity instanceof pc.Entity) {\n        var allMeshInstances = [];\n        var renders = entity.findComponents('render');\n\n        for (i = 0; i < renders.length; ++i) {\n            meshInstances = renders[i].meshInstances;\n            if (meshInstances) {\n                for (j = 0; j < meshInstances.length; j++) {\n                    allMeshInstances.push(meshInstances[j]);\n                }\n            }\n        }\n\n        var models = entity.findComponents('model');\n        for (i = 0; i < models.length; ++i) {\n            meshInstances = models[i].meshInstances;\n            if (meshInstances) {\n                for (j = 0; j < meshInstances.length; j++) {\n                    allMeshInstances.push(meshInstances[j]);\n                }\n            }\n        }\n\n        for (i = 0; i < allMeshInstances.length; i++) {\n            if (modelsAdded === 0) {\n                this._modelsAabb.copy(allMeshInstances[i].aabb);\n            } else {\n                this._modelsAabb.add(allMeshInstances[i].aabb);\n            }\n\n            modelsAdded += 1;\n        }\n    }\n\n    for (i = 0; i < entity.children.length; ++i) {\n        modelsAdded += this._buildAabb(entity.children[i], modelsAdded);\n    }\n\n    return modelsAdded;\n};\n\n\nOrbitCamera.prototype._calcYaw = function (quat) {\n    var transformedForward = new pc.Vec3();\n    quat.transformVector(pc.Vec3.FORWARD, transformedForward);\n\n    return Math.atan2(-transformedForward.x, -transformedForward.z) * pc.math.RAD_TO_DEG;\n};\n\n\nOrbitCamera.prototype._clampDistance = function (distance) {\n    if (this.distanceMax > 0) {\n        return pc.math.clamp(distance, this.distanceMin, this.distanceMax);\n    } else {\n        return Math.max(distance, this.distanceMin);\n    }\n};\n\n\nOrbitCamera.prototype._clampPitchAngle = function (pitch) {\n    // Negative due as the pitch is inversed since the camera is orbiting the entity\n    return pc.math.clamp(pitch, -this.pitchAngleMax, -this.pitchAngleMin);\n};\n\n\nOrbitCamera.quatWithoutYaw = new pc.Quat();\nOrbitCamera.yawOffset = new pc.Quat();\n\nOrbitCamera.prototype._calcPitch = function (quat, yaw) {\n    var quatWithoutYaw = OrbitCamera.quatWithoutYaw;\n    var yawOffset = OrbitCamera.yawOffset;\n\n    yawOffset.setFromEulerAngles(0, -yaw, 0);\n    quatWithoutYaw.mul2(yawOffset, quat);\n\n    var transformedForward = new pc.Vec3();\n\n    quatWithoutYaw.transformVector(pc.Vec3.FORWARD, transformedForward);\n\n    return Math.atan2(transformedForward.y, -transformedForward.z) * pc.math.RAD_TO_DEG;\n};\n\n","// mouse-input.js\nvar MouseInput = pc.createScript('mouseInput');\n\nMouseInput.attributes.add('orbitSensitivity', {\n    type: 'number',\n    default: 0.3,\n    title: 'Orbit Sensitivity',\n    description: 'How fast the camera moves around the orbit. Higher is faster'\n});\n\nMouseInput.attributes.add('distanceSensitivity', {\n    type: 'number',\n    default: 0.15,\n    title: 'Distance Sensitivity',\n    description: 'How fast the camera moves in and out. Higher is faster'\n});\n\n// initialize code called once per entity\nMouseInput.prototype.initialize = function () {\n    this.orbitCamera = this.entity.script.orbitCamera;\n\n    if (this.orbitCamera) {\n        var self = this;\n\n        var onMouseOut = function (e) {\n            self.onMouseOut(e);\n        };\n\n        this.app.mouse.on(pc.EVENT_MOUSEDOWN, this.onMouseDown, this);\n        this.app.mouse.on(pc.EVENT_MOUSEUP, this.onMouseUp, this);\n        this.app.mouse.on(pc.EVENT_MOUSEMOVE, this.onMouseMove, this);\n        this.app.mouse.on(pc.EVENT_MOUSEWHEEL, this.onMouseWheel, this);\n\n        // Listen to when the mouse travels out of the window\n        window.addEventListener('mouseout', onMouseOut, false);\n\n        // Remove the listeners so if this entity is destroyed\n        this.on('destroy', function () {\n            this.app.mouse.off(pc.EVENT_MOUSEDOWN, this.onMouseDown, this);\n            this.app.mouse.off(pc.EVENT_MOUSEUP, this.onMouseUp, this);\n            this.app.mouse.off(pc.EVENT_MOUSEMOVE, this.onMouseMove, this);\n            this.app.mouse.off(pc.EVENT_MOUSEWHEEL, this.onMouseWheel, this);\n\n            window.removeEventListener('mouseout', onMouseOut, false);\n        });\n    }\n\n    // Disabling the context menu stops the browser displaying a menu when\n    // you right-click the page\n    this.app.mouse.disableContextMenu();\n\n    this.lookButtonDown = false;\n    this.panButtonDown = false;\n    this.lastPoint = new pc.Vec2();\n};\n\n\nMouseInput.fromWorldPoint = new pc.Vec3();\nMouseInput.toWorldPoint = new pc.Vec3();\nMouseInput.worldDiff = new pc.Vec3();\n\n\nMouseInput.prototype.pan = function (screenPoint) {\n\n    var fromWorldPoint = MouseInput.fromWorldPoint;\n    var toWorldPoint = MouseInput.toWorldPoint;\n    var worldDiff = MouseInput.worldDiff;\n\n    // For panning to work at any zoom level, we use screen point to world projection\n    // to work out how far we need to pan the pivotEntity in world space \n    var camera = this.entity.camera;\n    var distance = this.orbitCamera.distance;\n\n    camera.screenToWorld(screenPoint.x, screenPoint.y, distance, fromWorldPoint);\n    camera.screenToWorld(this.lastPoint.x, this.lastPoint.y, distance, toWorldPoint);\n\n    worldDiff.sub2(toWorldPoint, fromWorldPoint);\n\n    this.orbitCamera.pivotPoint.add(worldDiff);\n};\n\n\nMouseInput.prototype.onMouseDown = function (event) {\n    switch (event.button) {\n        case pc.MOUSEBUTTON_LEFT: {\n            this.lookButtonDown = true;\n        } break;\n\n        case pc.MOUSEBUTTON_MIDDLE:\n        case pc.MOUSEBUTTON_RIGHT: {\n            this.panButtonDown = true;\n        } break;\n    }\n};\n\n\nMouseInput.prototype.onMouseUp = function (event) {\n    switch (event.button) {\n        case pc.MOUSEBUTTON_LEFT: {\n            this.lookButtonDown = false;\n        } break;\n\n        case pc.MOUSEBUTTON_MIDDLE:\n        case pc.MOUSEBUTTON_RIGHT: {\n            this.panButtonDown = false;\n        } break;\n    }\n};\n\n\nMouseInput.prototype.onMouseMove = function (event) {\n    if (this.enabled == false)\n        return;\n    var mouse = pc.app.mouse;\n    if (this.lookButtonDown) {\n        this.orbitCamera.pitch -= event.dy * this.orbitSensitivity;\n        this.orbitCamera.yaw -= event.dx * this.orbitSensitivity;\n\n    } else if (this.panButtonDown) {\n        this.pan(event);\n    }\n\n    this.lastPoint.set(event.x, event.y);\n};\n\n\nMouseInput.prototype.onMouseWheel = function (event) {\n    this.orbitCamera.distance -= event.wheel * this.distanceSensitivity * (this.orbitCamera.distance * 0.1);\n    event.event.preventDefault();\n};\n\n\nMouseInput.prototype.onMouseOut = function (event) {\n    this.lookButtonDown = false;\n    this.panButtonDown = false;\n};\n\n","// keyboard-input.js\nvar KeyboardInput = pc.createScript('keyboardInput');\n\n// initialize code called once per entity\nKeyboardInput.prototype.initialize = function() {\n    this.orbitCamera = this.entity.script.orbitCamera;\n};\n\n\nKeyboardInput.prototype.postInitialize = function() {\n    if (this.orbitCamera) {\n        this.startDistance = this.orbitCamera.distance;\n        this.startYaw = this.orbitCamera.yaw;\n        this.startPitch = this.orbitCamera.pitch;\n        this.startPivotPosition = this.orbitCamera.pivotPoint.clone();\n    }\n};\n\n// update code called every frame\nKeyboardInput.prototype.update = function(dt) {\n    if (this.orbitCamera) {\n        if (this.app.keyboard.wasPressed(pc.KEY_SPACE)) {\n            this.orbitCamera.reset(this.startYaw, this.startPitch, this.startDistance);\n            this.orbitCamera.pivotPoint = this.startPivotPosition;\n        }\n    }\n};\n\n\n","// animate-rotation.js\n// More information about curves can be found at: \n// http://developer.playcanvas.com/en/user-manual/scripting/script-attributes/\n// http://developer.playcanvas.com/en/api/pc.Curve.html\n\nvar AnimateRotation = pc.createScript('animateRotation');\n\nAnimateRotation.attributes.add('loop', {\n    title: 'Loop',\n    description: 'If true that animation is looped.',\n    type: 'boolean'\n});\n\nAnimateRotation.attributes.add('animateStart', {\n    title: 'Animate on Start',\n    description: 'If true that animation is started without wating for an event.',\n    type: 'boolean'\n});\n\nAnimateRotation.attributes.add('triggerEvent', {\n    title: 'Trigger Event Name',\n    description: 'Event to listen to.',\n    type: 'string'\n});\n\n// Example of creating curve attribute with multiple curves (in this case, x, y, z)\nAnimateRotation.attributes.add(\"rotationCurve\", {type: \"curve\", title: \"Rotation Curve\", curves: [ 'x', 'y', 'z' ]});\nAnimateRotation.attributes.add(\"duration\", {type: \"number\", default: 3, title: \"Duration (secs)\"});\n\nAnimateRotation.attributes.add('offset', {\n    title: 'Offset Animation',\n    description: 'If true that animation is only an offset to the start value.',\n    type: 'boolean'\n});\n\n// initialize code called once per entity\nAnimateRotation.prototype.initialize = function() {\n    \n    this.animate = this.animateStart;\n    \n    this.entity.on(this.triggerEvent, ()=>{this.animate = true;}, this);\n    \n    // Store the original position of the entity so we can offset from it\n    this.startRotation = this.entity.getEulerAngles().clone();\n    \n    // Keep track of the current position\n    this.rotation = new pc.Vec3();\n    \n    this.time = 0;\n};\n\n\n// update code called every frame\nAnimateRotation.prototype.update = function(dt) {\n    \n    if(this.animate){\n        this.time += dt;\n    \n        // Loop the animation forever\n        if (this.time > this.duration) {\n            if(!this.loop)\n                this.animate = false;\n            this.time = 0;\n        }\n\n        // Calculate how far in time we are for the animation\n        var percent = this.time / this.duration;\n\n        // Get curve values using current time relative to duration (percent)\n        // The rotationCurve has 3 curves (x, y, z) so the returned value will be a set of \n        // 3 values\n        var curveValue = this.rotationCurve.value(percent);\n\n        if(this.offset){\n            // Create our new position from the startPosition and curveValue\n            this.rotation.copy(this.startRotation);\n            this.rotation.x += curveValue[0];\n            this.rotation.y += curveValue[1];\n            this.rotation.z += curveValue[2];\n        } else {\n            // Create our new position from the startPosition and curveValue\n            this.rotation.copy(this.startRotation);\n            this.rotation.x = curveValue[0];\n            this.rotation.y = curveValue[1];\n            this.rotation.z = curveValue[2];\n        }\n\n        this.entity.setEulerAngles(this.rotation);\n    }\n};\n\n\n","// animate-position.js\n// More information about curves can be found at: \n// http://developer.playcanvas.com/en/user-manual/scripting/script-attributes/\n// http://developer.playcanvas.com/en/api/pc.Curve.html\n\nvar AnimatePosition = pc.createScript('animatePosition');\n\nAnimatePosition.attributes.add('loop', {\n    title: 'Loop',\n    description: 'If true that animation is looped.',\n    type: 'boolean'\n});\n\nAnimatePosition.attributes.add('animateStart', {\n    title: 'Animate on Start',\n    description: 'If true that animation is started without wating for an event.',\n    type: 'boolean'\n});\n\nAnimatePosition.attributes.add('triggerEvent', {\n    title: 'Trigger Event Name',\n    description: 'Event to listen to.',\n    type: 'string'\n});\n\n// Example of creating curve attribute with multiple curves (in this case, x, y, z)\nAnimatePosition.attributes.add(\"animCurve\", {\n    type: \"curve\", \n    title: \"Position Curve\",\n    description: \"Position applied to this entity over time.\",\n    curves: [ 'x', 'y', 'z' ]\n});\n\nAnimatePosition.attributes.add(\"duration\", {type: \"number\", default: 3, title: \"Duration (secs)\"});\n\nAnimatePosition.attributes.add('offset', {\n    title: 'Offset Animation',\n    description: 'If true that animation is only an offset to the start value.',\n    type: 'boolean'\n});\n\n// initialize code called once per entity\nAnimatePosition.prototype.initialize = function() {\n    \n    this.animate = this.animateStart;\n    \n    this.entity.on(this.triggerEvent, ()=>{this.animate = true;}, this);\n    \n    // Store the original position of the entity so we can offset from it\n    this.startPos = this.entity.getLocalPosition().clone();\n    \n    // Keep track of the current position\n    this.pos = new pc.Vec3();\n    \n    this.time = 0;\n};\n\n\n// update code called every frame\nAnimatePosition.prototype.update = function(dt) {\n    if(this.animate){\n        this.time += dt;\n    \n        // Loop the animation forever\n        if (this.time > this.duration) {\n            if(!this.loop)\n                this.animate = false;\n            this.time = 0;\n        }\n\n        // Calculate how far in time we are for the animation\n        var percent = this.time / this.duration;\n\n        // Get curve values using current time relative to duration (percent)\n        // The animCurve has 3 curves (x, y, z) so the returned value will be a set of \n        // 3 values\n        var curveValue = this.animCurve.value(percent);\n\n        if(this.offset){\n            // Create our new position from the startPosition and curveValue\n            this.pos.copy(this.startPos);\n            this.pos.x += curveValue[0];\n            this.pos.y += curveValue[1];\n            this.pos.z += curveValue[2];\n        } else {\n            // Create our new position from the startPosition and curveValue\n            this.pos.copy(this.startPos);\n            this.pos.x = curveValue[0];\n            this.pos.y = curveValue[1];\n            this.pos.z = curveValue[2];\n        }\n        \n\n        this.entity.setLocalPosition(this.pos);\n    }\n};\n\n\n","// animate-scale.js\n// More information about curves can be found at: \n// http://developer.playcanvas.com/en/user-manual/scripting/script-attributes/\n// http://developer.playcanvas.com/en/api/pc.Curve.html\n\nvar AnimateScale = pc.createScript('animateScale');\n\nAnimateScale.attributes.add('triggerEvent', {\n    title: 'Trigger Event Name',\n    description: 'Event to listen to.',\n    type: 'string'\n});\n\n// Example of creating curve attribute with multiple curves (in this case, x, y, z)\nAnimateScale.attributes.add(\"scaleCurve\", {\n    type: \"curve\", \n    title: \"Scale Curve\",\n    description: \"Scale applied to this entity over time.\",\n    curves: [ 'x', 'y', 'z' ]\n});\n\nAnimateScale.attributes.add(\"duration\", {type: \"number\", default: 3, title: \"Duration (secs)\"});\n\nAnimateScale.attributes.add('offset', {\n    title: 'Offset Animation',\n    description: 'If true that animation is only an offset to the start value.',\n    type: 'boolean'\n});\n\n// initialize code called once per entity\nAnimateScale.prototype.initialize = function() {\n    \n    this.animate = false;\n    \n    this.entity.on(this.triggerEvent, ()=>{this.animate = true;}, this);\n    \n    // Store the original position of the entity so we can offset from it\n    this.startScale = this.entity.getLocalScale().clone();\n    \n    // Keep track of the current position\n    this.scale = new pc.Vec3();\n    \n    this.time = 0;\n};\n\n\n// update code called every frame\nAnimateScale.prototype.update = function(dt) {\n    if(this.animate){\n        this.time += dt;\n    \n        // Loop the animation forever\n        if (this.time > this.duration) {\n            this.animate = false;\n            this.time = 0;\n        }\n\n        // Calculate how far in time we are for the animation\n        var percent = this.time / this.duration;\n\n        // Get curve values using current time relative to duration (percent)\n        // The offsetCurve has 3 curves (x, y, z) so the returned value will be a set of \n        // 3 values\n        var curveValue = this.scaleCurve.value(percent);\n\n        if(this.offset){\n            // Create our new position from the startPosition and curveValue\n            this.scale.copy(this.startScale);\n            this.scale.x += curveValue[0];\n            this.scale.y += curveValue[1];\n            this.scale.z += curveValue[2];\n        } else {\n            // Create our new position from the startPosition and curveValue\n            this.scale.copy(this.startScale);\n            this.scale.x = curveValue[0];\n            this.scale.y = curveValue[1];\n            this.scale.z = curveValue[2];\n        }\n\n        this.entity.setLocalScale(this.scale);\n    }\n};\n\n\n","// iframe-plane.js\nvar IframePlane = pc.createScript('iframePlane');\nIframePlane.attributes.add('iframeUrl', { type: 'string' });\nIframePlane.attributes.add(\"interactable\", { type: \"boolean\" });\nIframePlane.attributes.add('pixelsPerUnit', {\n    type: 'number',\n    default: 640,\n    description: 'Number of canvas pixels per unit of world space. The larger the number, the higher the resolution of the iframe.'\n});\nIframePlane.attributes.add(\"closeImg\", { type: \"asset\", assetType: \"texture\" });\n\nIframePlane.attributes.add(\"pauseMethod\", {\n    type: \"string\",\n    description: \"Event body to fire to the iframe on pause.\"\n});\n\n// initialize code called once per entity\nIframePlane.prototype.initialize = function () {\n    // WARNING: IframePlane does not work with touch events\n\n    var wrapper, close;\n\n    if (this.iframeUrl) {\n        wrapper = document.createElement(\"div\");\n        this.iframeElem = document.createElement(\"iframe\");\n        this.iframeElem.src = this.iframeUrl;\n        this.iframeElem.style.border = '0px';\n        this.iframeElem.style.height = '100%';\n        this.iframeElem.style.width = '100%';\n        close = document.createElement(\"div\");\n        close.addEventListener(\"click\", () => this.entity.fire(\"zoom:out\"));\n        //close.src = this.closeImg.getFileUrl();\n        close.style.position = \"absolute\";\n        close.style.top = \"0\";\n        close.style.right = \"0\";\n        close.style.height = \"100px\";\n        close.style.width = \"100px\";\n        close.style.color = \"white\";\n        wrapper.append(this.iframeElem);\n        wrapper.append(close);\n    } else {\n        wrapper = null;\n    }\n\n    this._css3Plane = new pc.Css3Plane(wrapper, this.entity, this.pixelsPerUnit);\n    this.setInteractable(this.interactable);\n\n    var material = new pc.StandardMaterial();\n    material.depthWrite = true;\n    material.redWrite = false;\n    material.greenWrite = false;\n    material.blueWrite = false;\n    material.alphaWrite = false;\n    material.blendType = pc.BLEND_NONE;\n    material.opacity = 0;\n    material.update();\n\n    this.entity.render.material = material;\n\n    this.on('enable', function () {\n        this._css3Plane.enable();\n    }, this);\n\n    this.on('disable', function () {\n        this._css3Plane.disable();\n    }, this);\n\n    this.entity.on(\"iframe:interactable\", this.setInteractable, this);\n\n};\n\nIframePlane.prototype.setInteractable = function (state) {\n    if (this._css3Plane) {\n        this._css3Plane.blockEvents(!state);\n    }\n\n    if (!state) {\n        this.iframeElem.contentWindow.postMessage(this.pauseMethod, \"*\");\n    }\n};\n\n","// css3-renderer.js\npc.extend(pc, function () {\n    'use strict';\n\n    var epsilon = function (value) {\n        return Math.abs(value) < 1e-10 ? 0 : value;\n    };\n\n    var app = pc.Application.getApplication();\n\n    // the Y axis of html is the opposite of gl,so multiply by minus one\n    var getCameraCSSMatrix = function (matrix) {\n        var elements = matrix.data;\n\n        return 'matrix3d(' +\n            epsilon(elements[0]) + ',' +\n            epsilon(- elements[1]) + ',' +\n            epsilon(elements[2]) + ',' +\n            epsilon(elements[3]) + ',' +\n            epsilon(elements[4]) + ',' +\n            epsilon(- elements[5]) + ',' +\n            epsilon(elements[6]) + ',' +\n            epsilon(elements[7]) + ',' +\n            epsilon(elements[8]) + ',' +\n            epsilon(- elements[9]) + ',' +\n            epsilon(elements[10]) + ',' +\n            epsilon(elements[11]) + ',' +\n            epsilon(elements[12]) + ',' +\n            epsilon(- elements[13]) + ',' +\n            epsilon(elements[14]) + ',' +\n            epsilon(elements[15]) +\n            ')';\n    };\n\n    // scaleX and scaleY represent how many pixels of div equlas to one unit of model.\n    var getObjectCSSMatrix = function (matrix, scaleX, scaleY) {\n        var elements = matrix.data;\n\n        var matrix3d = 'matrix3d(' +\n            epsilon(elements[0] / scaleX) + ',' +\n            epsilon(elements[1] / scaleX) + ',' +\n            epsilon(elements[2] / scaleX) + ',' +\n            epsilon(elements[3] / scaleX) + ',' +\n            epsilon(elements[8] / scaleY) + ',' +\n            epsilon(elements[9] / scaleY) + ',' +\n            epsilon(elements[10] / scaleY) + ',' +\n            epsilon(elements[11] / scaleY) + ',' +\n            epsilon(elements[4]) + ',' +\n            epsilon(elements[5]) + ',' +\n            epsilon(elements[6]) + ',' +\n            epsilon(elements[7]) + ',' +\n            epsilon(elements[12]) + ',' +\n            epsilon(elements[13]) + ',' +\n            epsilon(elements[14]) + ',' +\n            epsilon(elements[15]) +\n            ')';\n\n        // Make sure the origin is in the center\n        return 'translate(-50%,-50%)' + matrix3d;\n    };\n\n    var randomCssColor = function () {\n        var r = Math.round(Math.random() * 255);\n        var g = Math.round(Math.random() * 255);\n        var b = Math.round(Math.random() * 255);\n\n        return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n    };\n\n    // construct a css3 renderer\n    var Css3Renderer = function () {\n        // make sure we only have one css3 renderer\n        if (app.css3Renderer)\n            return app.css3Renderer;\n        app.css3Renderer = this;\n\n        // init data\n        this._stageElement = null;\n        this._cameras = [];\n        this._cameraElements = [];\n        this._defaultCameraElement = null;\n        this._css3Targets = [];\n        // cache\n        this._cameraInvertMat = new pc.Mat4();\n        this._cameraHalfSize = new pc.Vec2();\n\n        // create a div to contain all elements\n        var stageElement = document.createElement(\"div\");\n        stageElement.style.overflow = \"hidden\";\n        stageElement.style.pointerEvents = 'auto';\n        stageElement.style.position = \"absolute\";\n        stageElement.style.zIndex = \"10\";\n        document.body.appendChild(stageElement);\n\n        // have the touch device detect touches from the stage element instead\n        var touchDevice = app.touch;\n        if (touchDevice) {\n            touchDevice.attach(stageElement);\n        }\n\n        if (app.elementInput) {\n            app.elementInput.attach(stageElement);\n        }\n\n        // make sure the div created is behind the canvas since we want to show the div when canvas is transparent\n        var canvas = document.getElementById(\"application-canvas\");\n        canvas.style.pointerEvents = \"none\";\n        document.body.insertBefore(stageElement, canvas);\n\n        this._stageElement = stageElement;\n\n        // add default camera\n        this._defaultCameraElement = this.addCamera(app.root.findComponent(\"camera\"));\n\n        var self = this;\n        function onWindowResize() {\n            self._width = window.innerWidth;\n            self._height = window.innerHeight;\n            self._widthHalf = self._width / 2;\n            self._heightHalf = self._height / 2;\n            self._stageElement.style.width = self._width + 'px';\n            self._stageElement.style.height = self._height + 'px';\n            for (var i = 0; i < self._cameraElements.length; i++) {\n                self._cameraElements[i].style.width = self._width + 'px';\n                self._cameraElements[i].style.height = self._height + 'px';\n            }\n        }\n        onWindowResize();\n\n        window.addEventListener(\"resize\", onWindowResize, false);\n    };\n\n    Css3Renderer.prototype = {\n        // start render every frame\n        render: function () {\n            if (this._isRendering)\n                return;\n\n            this._isRendering = true;\n            app.on(\"update\", this._renderElements, this);\n        },\n\n        cancelRender: function () {\n            app.off(\"update\", this._renderElements, this);\n            this._isRendering = false;\n\n        },\n\n        // add new camera\n        addCamera: function (camera) {\n            // make sure the camera we added is not duplicate\n            if (!camera)\n                return this._defaultCameraElement;\n            if (this._cameras.indexOf(camera) > -1) {\n                return this._cameraElements[this._cameras.indexOf(camera)];\n            }\n            // create a div for this camera\n            var cameraElement = document.createElement(\"div\");\n            cameraElement.style.WebkitTransformStyle = 'preserve-3d';\n            cameraElement.style.transformStyle = 'preserve-3d';\n            cameraElement.style.pointerEvents = 'none';\n            // add to html\n            this._stageElement.appendChild(cameraElement);\n            // camera cache\n            this._cameras.push(camera);\n            this._cameraElements.push(cameraElement);\n\n            return cameraElement;\n        },\n\n        // add new render element\n        addTarget: function (target) {\n            if (this._css3Targets.indexOf(target) <= -1)\n                this._css3Targets.push(target);\n        },\n\n        // remove render element\n        removeTarget: function (target) {\n            var index = this._css3Targets.indexOf(target);\n            if (index !== -1)\n                this._css3Targets.splice(index, 1);\n        },\n\n        // set whether the div can be interacted\n        blockEvents: function (state) {\n            for (var i = 0; i < this._css3Targets.length; this._css3Targets[i++].blockEvents(state));\n        },\n\n        // render elements every frame\n        _renderElements: function () {\n            for (var i = 0; i < this._cameras.length; i++) {\n                var tx, ty, cameraCSSMatrix, style;\n                var camera = this._cameras[i];\n                var cameraElement = this._cameraElements[i];\n                var fov = camera.projectionMatrix.data[5] * this._heightHalf;\n\n                // update stage div\n                if (camera.projection == pc.PROJECTION_PERSPECTIVE) {\n                    this._stageElement.style.WebkitPerspective = fov + 'px';\n                    this._stageElement.style.perspective = fov + 'px';\n                }\n                else {\n                    this._stageElement.style.WebkitPerspective = '';\n                    this._stageElement.style.perspective = '';\n                }\n\n                // update camera\n                if (camera.projection == pc.PROJECTION_ORTHOGRAPHIC) {\n                    pc.Mat4._getPerspectiveHalfSize(this._cameraHalfSize, camera.fov, camera.aspectRatio, camera.nearClip, camera.horizontalFov);\n                    tx = - (this._cameraHalfSize.x - this._cameraHalfSize.x) / 2;\n                    ty = (this._cameraHalfSize.y - this._cameraHalfSize.y) / 2;\n                }\n                this._cameraInvertMat.copy(camera.entity.getWorldTransform()).invert();\n                cameraCSSMatrix = camera.projection == pc.PROJECTION_ORTHOGRAPHIC ? 'scale(' + fov + ')' + 'translate(' + epsilon(tx) + 'px,' + epsilon(ty) + 'px)' + getCameraCSSMatrix(this._cameraInvertMat)\n                    : 'translateZ(' + fov + 'px)' + getCameraCSSMatrix(this._cameraInvertMat);\n                style = cameraCSSMatrix + 'translate(' + this._widthHalf + 'px,' + this._heightHalf + 'px)';\n                cameraElement.style.WebkitTransform = style;\n                cameraElement.style.transform = style;\n            }\n\n            // update all div\n            for (var j = 0; j < this._css3Targets.length; this._css3Targets[j++].updateTransform());\n        }\n    };\n\n    /**\n    * @class\n    * @name pc.Css3Plane\n    * @classdesc merge the div and entity together.\n    * @description merge the div and entity together,update the domElement transform according to the entity every frame so they look the same to the viewer.\n    * @param {object} dom - the dom element to show,create a new one if not exist.\n    * @param {pc.Entity} entity - the entity to attach,create a new one if not exist.\n    * @param {number} pixelsPerWorldUnit - represent how many pixels of div equlas to one unit of model.\n    * @param {pc.CameraComponent} camera - the camera.\n    */\n    var Css3Plane = function (dom, entity, pixelsPerWorldUnit, camera) {\n        // create a css3 renderer if we don't have one\n        if (!app.css3Renderer) {\n            app.css3Renderer = new pc.Css3Renderer();\n        }\n        // set the renderer\n        this._renderer = app.css3Renderer;\n\n        // create a div if we don't have one\n        if (!dom) {\n            dom = document.createElement('div');\n            dom.innerHTML = \"CSS3 Plane\";\n            dom.style.backgroundColor = randomCssColor();\n            dom.style.textAlign = \"center\"; // 文字居中\n        }\n        dom.style.position = 'absolute';\n        dom.style.pointerEvents = 'auto';\n        this.dom = dom;\n\n        // create an entity and add it to scene if we don't have one\n        if (!entity) {\n            entity = new pc.Entity();\n            app.root.addChild(entity);\n        }\n        this.entity = entity;\n\n        // add camera to renderer\n        this.cameraElement = this._renderer.addCamera(camera);\n        // add div to cameraElement\n        this.cameraElement.appendChild(dom);\n\n        // set the max width and height\n        this._maxWidth = 1920;\n        this._maxHeight = 1080;\n        // scaleFactor represent how many pixels of div equals to one unit of model.\n        pixelsPerWorldUnit = pixelsPerWorldUnit || this._maxWidth;\n        this.pixelsPerWorldUnit = new pc.Vec2(pixelsPerWorldUnit, pixelsPerWorldUnit);\n\n        // start render\n        this._renderer.addTarget(this);\n        this._renderer.render();\n    };\n\n    Css3Plane.prototype = {\n        // update model materix\n        updateTransform: function () {\n            var modelTransform = this.entity.getWorldTransform();\n            var scale = modelTransform.getScale();\n            var width = Math.min(scale.x * this.pixelsPerWorldUnit.x, this._maxWidth);\n            var height = Math.min(scale.z * this.pixelsPerWorldUnit.y, this._maxHeight);\n            var style = getObjectCSSMatrix(modelTransform, width, height);\n\n            // Safari doesn't like multi decimal numbers for width and height\n            // and misaligns the iframe in the plane\n\n            this.dom.style.width = Math.round(width) + \"px\";\n            this.dom.style.height = Math.round(height) + \"px\";\n            this.dom.style.lineHeight = this.dom.style.height;\n            this.dom.style.WebkitTransform = style;\n            this.dom.style.transform = style;\n        },\n\n        // set whether the div can be interacted\n        blockEvents: function (state) {\n            this.dom.style.pointerEvents = state ? \"none\" : \"auto\";\n        },\n\n        // attach other plane in scene\n        attachPlane: function (entity) {\n            this.entity = entity;\n        },\n\n        disable: function () {\n            this.cameraElement.removeChild(this.dom);\n            this._renderer.removeTarget(this);\n        },\n\n        enable: function () {\n            this.cameraElement.appendChild(this.dom);\n            this._renderer.addTarget(this);\n        }\n    };\n\n    return {\n        Css3Renderer: Css3Renderer,\n        Css3Plane: Css3Plane\n    };\n}());\n\n\n","// frame-on-event.js\nvar FrameOnEvent = pc.createScript('frameOnEvent');\n\nFrameOnEvent.attributes.add(\"zoomInEvent\", {\n    type: \"string\"\n});\n\nFrameOnEvent.attributes.add(\"zoomOutEvent\", {\n    type: \"string\"\n});\n\nFrameOnEvent.attributes.add(\"camera\", {\n    type: \"entity\"\n});\n\nFrameOnEvent.attributes.add(\"zoomPosition\", {\n    type: \"entity\"\n});\n\n// initialize code called once per entity\nFrameOnEvent.prototype.initialize = function () {\n    this.initialPos = this.camera.getLocalPosition().clone();\n    this.initialRot = this.camera.getLocalRotation().clone();\n    this.currentState = false;\n\n    this.entity.on(this.zoomInEvent, () => this.frame(true), this);\n\n    this.entity.on(this.zoomOutEvent, () => this.frame(false), this);\n\n    this.on('destroy', function () {\n        this.entity.off(this.zoomInEvent);\n        this.entity.off(this.zoomOutEvent);\n\n    }, this);\n};\n\nFrameOnEvent.prototype.enableOrbitScripts = function (bool) {\n    this.camera.script.orbitCamera.enabled = bool;\n    this.camera.script.mouseInput.enabled = bool;\n    this.camera.script.touchInput.enabled = bool;\n};\n\nFrameOnEvent.prototype.frame = function (state) {\n    if (this.currentState == state)\n        return;\n    this.currentState = state;\n    if (state) {\n        this.initialRot = this.camera.getLocalRotation().clone();\n        this.initialPos = this.camera.getLocalPosition().clone();\n        this.enableOrbitScripts(false);\n    }\n    let target = state ? this.zoomPosition.getLocalPosition() : this.initialPos;\n    let targetRot = state ? this.zoomPosition.getLocalRotation() : this.initialRot;\n    this.camera\n        .tween(this.camera.getLocalPosition())\n        .to(target, 1.0, pc.SineOut)\n        .on(\"complete\", () => this.enableOrbitScripts(!state), this)\n        .start();\n    this.camera.tween(this.camera.getLocalRotation()).to(targetRot, 1.0, pc.SineOut)\n        .start();\n    this.entity.fire(\"iframe:interactable\", state);\n};\n\n// update code called every frame\nFrameOnEvent.prototype.update = function (dt) {\n\n};\n\n// swap method called for script hot-reloading\n// inherit your script state here\n// FrameOnEvent.prototype.swap = function(old) { };\n\n// to learn more about script anatomy, please read:\n// https://developer.playcanvas.com/en/user-manual/scripting/\n\n","// event-on-click.js\nvar EventOnClick = pc.createScript('eventOnClick');\n\nEventOnClick.attributes.add(\"onDownEvent\", {\n    type: \"string\"\n});\n\nEventOnClick.attributes.add(\"onUpEvent\", {\n    type: \"string\"\n});\n\nEventOnClick.attributes.add(\"upTimeout\", {\n    type: \"number\",\n    description: \"Timeout in s for when the upEvent is ignored.\"\n});\n\n// initialize code called once per entity\nEventOnClick.prototype.initialize = function () {\n\n    this.heldDown = false;\n\n    this.app.mouse.on(pc.EVENT_MOUSEDOWN, this.onDown, this);\n\n    this.app.mouse.on(pc.EVENT_MOUSEUP, this.onUp, this);\n\n    this.on('destroy', function () {\n        this.app.mouse.off(pc.EVENT_MOUSEDOWN, this.onDown, this);\n        this.app.mouse.off(pc.EVENT_MOUSEUP, this.onUp, this);\n\n    }, this);\n\n};\n\nEventOnClick.prototype.onDown = function (e) {\n    this.heldDown = true;\n    this.downTimer = setTimeout(() => this.heldDown = false, this.upTimeout * 1000);\n\n    var from = this.entity.camera.screenToWorld(e.x, e.y, this.entity.camera.nearClip);\n    var to = this.entity.camera.screenToWorld(e.x, e.y, this.entity.camera.farClip);\n\n    var result = this.app.systems.rigidbody.raycastFirst(from, to);\n    if (result) {\n        result.entity.fire(this.onDownEvent);\n    }\n};\n\n\nEventOnClick.prototype.onUp = function (e) {\n    if (!this.heldDown)\n        return;\n\n    clearTimeout(this.downTimer);\n\n    var from = this.entity.camera.screenToWorld(e.x, e.y, this.entity.camera.nearClip);\n    var to = this.entity.camera.screenToWorld(e.x, e.y, this.entity.camera.farClip);\n\n    var result = this.app.systems.rigidbody.raycastFirst(from, to);\n    if (result) {\n        result.entity.fire(this.onUpEvent);\n    }\n};\n\n// update code called every frame\nEventOnClick.prototype.update = function (dt) {\n\n};\n\n// swap method called for script hot-reloading\n// inherit your script state here\n// EventOnClick.prototype.swap = function(old) { };\n\n// to learn more about script anatomy, please read:\n// http://developer.playcanvas.com/en/user-manual/scripting/\n\n","// event-on-key.js\nvar EventOnKey = pc.createScript('eventOnKey');\n\nEventOnKey.attributes.add(\"keycode\", {\n    type: \"number\",\n    description: \"Keycode for key to listen for. Check https://keycode.info/ for info.\"\n});\n\nEventOnKey.attributes.add(\"eventName\", {\n    type: \"string\"\n});\n\nEventOnKey.prototype.initialize = function () {\n    this.app.keyboard.on(pc.EVENT_KEYDOWN, this.onKeyDown, this);\n\n    this.on('destroy', function () {\n        this.app.keyboard.off(pc.EVENT_KEYDOWN, this.onKeyDown, this);\n    }, this);\n};\n\nEventOnKey.prototype.onKeyDown = function (e) {\n    console.log(e.key);\n    if (e.key == this.keycode) {\n        console.log(\"FIRE!\");\n        this.entity.fire(this.eventName);\n    }\n};\n\n// update code called every frame\nEventOnKey.prototype.update = function (dt) {\n\n};\n\n// swap method called for script hot-reloading\n// inherit your script state here\n// EventOnKey.prototype.swap = function(old) { };\n\n// to learn more about script anatomy, please read:\n// http://developer.playcanvas.com/en/user-manual/scripting/\n\n","// parallax-cam.js\nvar ParallaxCam = pc.createScript('parallaxCam');\n\nParallaxCam.attributes.add(\"camEntity\", {\n    type: \"entity\"\n});\n\nParallaxCam.attributes.add(\"maxTiltX\", {\n    type: \"number\"\n});\n\nParallaxCam.attributes.add(\"maxTiltY\", {\n    type: \"number\"\n});\n\nParallaxCam.attributes.add(\"speed\", {\n    type: \"number\",\n    default: 1\n});\n\n// initialize code called once per entity\nParallaxCam.prototype.initialize = function () {\n    this.app.mouse.on(pc.EVENT_MOUSEMOVE, this.onMouseMove, this);\n    this.pivot = this.entity.parent;\n};\n\nParallaxCam.prototype.onMouseMove = function (event) {\n    let tiltY = event.x / this.app.graphicsDevice.width * this.app.graphicsDevice.maxPixelRatio - 0.5;\n    let tiltX = event.y / this.app.graphicsDevice.height * this.app.graphicsDevice.maxPixelRatio - 0.5;\n    //console.log(tiltX, tiltY);\n\n    this.tiltTarget = new pc.Vec3(-this.maxTiltX * tiltX, -this.maxTiltY * tiltY, 0);\n};\n\n// update code called every frame\nParallaxCam.prototype.update = function (dt) {\n    if (this.tiltTarget) {\n        let target = new pc.Vec3();\n\n        this.pivot.setLocalEulerAngles(target.lerp(this.pivot.getLocalEulerAngles(), this.tiltTarget, dt * this.speed));\n\n    }\n\n};\n\n// swap method called for script hot-reloading\n// inherit your script state here\n// ParallaxCam.prototype.swap = function(old) { };\n\n// to learn more about script anatomy, please read:\n// https://developer.playcanvas.com/en/user-manual/scripting/\n\n","// animEvent-to-event.js\nvar AnimEventToEvent = pc.createScript('animEventToEvent');\n\nAnimEventToEvent.attributes.add('events', {\n    title: 'Events',\n    description: 'Events to listen to.',\n    type: 'json',\n    array: true,\n    schema: [\n        {\n            name: \"animEvent\",\n            type: \"string\"\n        }, {\n            name: \"eventName\",\n            type: \"string\"\n        }, {\n            name: \"target\",\n            type: \"entity\",\n            description: \"Target to fire the event on. If left empty, it is fired globaly on this.app .\"\n        }\n    ]\n});\n\n// initialize code called once per entity\nAnimEventToEvent.prototype.initialize = function () {\n    for (let i = 0; i < this.events.length; i++) {\n        var target = this.events[i].target ? this.events[i].target : this.app;\n        this.entity.anim.on(this.events[i].animEvent, () => {\n            target.fire(this.events[i].eventName);\n        });\n    }\n};\n\n// update code called every frame\nAnimEventToEvent.prototype.update = function (dt) {\n\n};\n\n// swap method called for script hot-reloading\n// inherit your script state here\n// AnimEventToEvent.prototype.swap = function(old) { };\n\n// to learn more about script anatomy, please read:\n// https://developer.playcanvas.com/en/user-manual/scripting/\n\n","// animateOnEvent.js\nvar AnimateOnevent = pc.createScript('animateOnevent');\n\nAnimateOnevent.attributes.add(\"eventToListenTo\", {\n    description: \"Event that this entity should listen for.\",\n    type: \"string\"\n});\n\nAnimateOnevent.attributes.add(\"animEntity\", {\n    description: \"Entity with the anim component 'animTriggerName' should be activated on\",\n    type: \"entity\"\n});\n\nAnimateOnevent.attributes.add(\"animTriggerName\", {\n    description: \"The name of the Trigger that should be activated on 'animEntity'\",\n    type: \"string\"\n});\n\n// initialize code called once per entity\nAnimateOnevent.prototype.initialize = function () {\n    this.entity.on(this.eventToListenTo, () => {\n        this.animEntity.anim.setTrigger(this.animTriggerName, true);\n        this.app.fire(\"idle:stop\");\n        //console.log(\"Animate\");\n    }, this);\n};\n\n// update code called every frame\nAnimateOnevent.prototype.update = function (dt) {\n\n};\n\n// swap method called for script hot-reloading\n// inherit your script state here\n// AnimateOnevent.prototype.swap = function(old) { };\n\n// to learn more about script anatomy, please read:\n// https://developer.playcanvas.com/en/user-manual/scripting/\n\n","// idle-animation-timer.js\nvar IdleAnimationTimer = pc.createScript('idleAnimationTimer');\n\nIdleAnimationTimer.attributes.add(\"timeout\", {\n    type: \"number\",\n    default: 10\n});\n\nIdleAnimationTimer.attributes.add(\"stopEvent\", {\n    type: \"string\",\n    description: \"Idle Animations won't play after this event has been fired.\"\n});\n\nIdleAnimationTimer.attributes.add(\"stopTarget\", {\n    type: \"entity\",\n    description: \"Target to listen for stopEvent. Will be this.app if left empty.\"\n});\n\n// initialize code called once per entity\nIdleAnimationTimer.prototype.initialize = function () {\n    this.timerInterval = setInterval(() => {\n        this.entity.anim.setTrigger(\"Idle_Timer\", true);\n    }, this.timeout * 1000);\n    let target = this.stopTarget ? this.stopTarget : this.app;\n    target.on(this.stopEvent, () => clearInterval(this.timerInterval), this);\n};\n\n// update code called every frame\nIdleAnimationTimer.prototype.update = function (dt) {\n\n};\n\n// swap method called for script hot-reloading\n// inherit your script state here\n// IdleAnimationTimer.prototype.swap = function(old) { };\n\n// to learn more about script anatomy, please read:\n// https://developer.playcanvas.com/en/user-manual/scripting/\n\n","// event-on-ui-click.js\nvar EventOnUiClick = pc.createScript('eventOnUiClick');\n\nEventOnUiClick.attributes.add(\"eventName\", {\n    type: \"string\"\n});\n\nEventOnUiClick.attributes.add(\"target\", {\n    type: \"entity\"\n});\n\n// initialize code called once per entity\nEventOnUiClick.prototype.initialize = function () {\n    this.entity.element.on(\"click\", () => {\n        console.log(\"UI click\");\n        this.target.fire(this.eventName);\n    }, this);\n};\n\n// update code called every frame\nEventOnUiClick.prototype.update = function (dt) {\n\n};\n\n// swap method called for script hot-reloading\n// inherit your script state here\n// EventOnUiClick.prototype.swap = function(old) { };\n\n// to learn more about script anatomy, please read:\n// https://developer.playcanvas.com/en/user-manual/scripting/\n\n","// event-to-event.js\nvar EventToEvent = pc.createScript('eventToEvent');\nEventToEvent.attributes.add(\"inputEvent\", {\n    description: \"Event that 'inputTarget' listens for.\",\n    type: \"string\"\n});\nEventToEvent.attributes.add(\"inputTarget\", {\n    description: \"Entity that listens for 'inputEvent'.\",\n    type: \"entity\"\n});\nEventToEvent.attributes.add(\"outputEvent\", {\n    description: \"Event that should be fired on 'outputTarget' when 'inputTarget' receives 'inputEvent'.\",\n    type: \"string\"\n});\nEventToEvent.attributes.add(\"outputTarget\", {\n    description: \"Entity that 'outputEvent' is fired on.\",\n    type: \"entity\"\n});\n\n// initialize code called once per entity\nEventToEvent.prototype.initialize = function () {\n    let input = this.inputTarget ? this.inputTarget : this.app;\n    let output = this.outputTarget ? this.outputTarget : this.app;\n\n    input.on(this.inputEvent, () => output.fire(this.outputEvent), this);\n};\n\n// update code called every frame\nEventToEvent.prototype.update = function (dt) {\n\n};\n\n// swap method called for script hot-reloading\n// inherit your script state here\n// EventToEvent.prototype.swap = function(old) { };\n\n// to learn more about script anatomy, please read:\n// https://developer.playcanvas.com/en/user-manual/scripting/\n\n","// soundOnEvent.js\nvar SoundOnEvent = pc.createScript('soundOnEvent');\n\nSoundOnEvent.attributes.add('events', {\n    title: 'Events',\n    description: 'Events to listen to.',\n    type: 'json',\n    array: true,\n    schema: [\n        {\n            name: \"eventName\",\n            type: \"string\"\n        }, {\n            name: \"src\",\n            type: \"entity\",\n            description: \"Source to listen the event on. If left empty, it is listend globaly on this.app .\"\n        }, {\n            name: \"soundSlot\",\n            type: \"string\",\n            description: \"Name of the soundSlot to play.\"\n        }\n    ]\n});\n\n\n// initialize code called once per entity\nSoundOnEvent.prototype.initialize = function () {\n    var soundSrc = this.entity.sound;\n    for (let i = 0; i < this.events.length; i++) {\n\n        var src = this.events[i].src ? this.events[i].src : this.app;\n        src.on(this.events[i].eventName, () => {\n\n            soundSrc.play(this.events[i].soundSlot);\n        });\n    }\n};\n\n// update code called every frame\nSoundOnEvent.prototype.update = function (dt) {\n\n};\n\n// swap method called for script hot-reloading\n// inherit your script state here\n// SoundOnEvent.prototype.swap = function(old) { };\n\n// to learn more about script anatomy, please read:\n// https://developer.playcanvas.com/en/user-manual/scripting/\n\n","// set-html-gradient-bg.js\nvar SetHtmlGradientBg = pc.createScript('setHtmlGradientBg');\n\n// initialize code called once per entity\nSetHtmlGradientBg.prototype.initialize = function () {\n    document.body.style.background = \"radial-gradient(circle, rgba(2,0,36,1) 0%, rgba(55,55,182,1) 35%, rgba(0,212,255,1) 100%)\";\n};\n\n// update code called every frame\nSetHtmlGradientBg.prototype.update = function (dt) {\n\n};\n\n// swap method called for script hot-reloading\n// inherit your script state here\n// SetHtmlGradientBg.prototype.swap = function(old) { };\n\n// to learn more about script anatomy, please read:\n// https://developer.playcanvas.com/en/user-manual/scripting/\n\n","// animation-handler.js\nvar AnimationHandler = pc.createScript('animationHandler');\n\nAnimationHandler.attributes.add(\"anims\", {\n    type: \"json\",\n    schema: [\n        {\n            name: \"btn\",\n            type: \"entity\"\n        }, {\n            name: \"target\",\n            type: \"entity\"\n        }, {\n            name: \"slot_out\",\n            type: \"string\"\n        }, {\n            name: \"slot_in\",\n            type: \"string\"\n        }, {\n            name: \"camPos\",\n            type: \"entity\"\n        }\n    ],\n    array: true\n});\n\nAnimationHandler.attributes.add(\"camera\", {\n    type: \"entity\"\n});\n\nAnimationHandler.attributes.add(\"btnSoundSlot\", {\n    type: \"string\"\n});\n\nAnimationHandler.attributes.add(\"trigger_out\", {\n    type: \"string\"\n});\n\nAnimationHandler.attributes.add(\"trigger_in\", {\n    type: \"string\"\n});\n\n// initialize code called once per entity\nAnimationHandler.prototype.initialize = function () {\n    this.soundSrc = this.entity.sound;\n    this.camAnim = this.camera.script.cameraAnimation;\n\n    this.isPlaying = false;\n\n    for (let i = 0; i < this.anims.length; i++) {\n        this.anims[i].btn.on(\"btn:pressed\", () => {\n            this.soundSrc.play(this.btnSoundSlot);\n            if (this.isPlaying)\n                return;\n            if (this.active == undefined) {\n                this.active = this.anims[i];\n                this.anims[i].target.fire(this.trigger_out);\n                this.anims[i].target.anim.once(\"anim:end\", () => this.isPlaying = false, this);\n                this.camAnim.moveTo(this.anims[i].camPos)\n                this.entity.script.animatePosition.enabled = false;\n                this.soundSrc.play(this.anims[i].slot_out);\n            }\n            else if (this.active == this.anims[i]) {\n                this.active.target.anim.once(\"anim:end\", () => {\n                    this.active = undefined;\n                    this.isPlaying = false;\n                }, this);\n                this.active.target.fire(this.trigger_in);\n                this.soundSrc.play(this.active.slot_in);\n                this.camAnim.reset();\n                this.entity.script.animatePosition.enabled = true;\n\n            } else {\n                this.active.target.anim.once(\"anim:end\", () => {\n                    this.active = this.anims[i];\n                    this.anims[i].target.fire(this.trigger_out);\n                    this.anims[i].target.anim.once(\"anim:end\", () => this.isPlaying = false, this);\n                    this.camAnim.moveTo(this.anims[i].camPos)\n                    this.entity.script.animatePosition.enabled = false;\n\n                    this.soundSrc.play(this.active.slot_out);\n                }, this);\n                this.active.target.fire(this.trigger_in);\n                this.soundSrc.play(this.active.slot_in);\n                this.camAnim.reset();\n                this.entity.script.animatePosition.enabled = true;\n\n            }\n\n            this.isPlaying = true;\n        }, this);\n    }\n\n};\n\n// update code called every frame\nAnimationHandler.prototype.update = function (dt) {\n\n};\n\n// swap method called for script hot-reloading\n// inherit your script state here\n// AnimationHandler.prototype.swap = function(old) { };\n\n// to learn more about script anatomy, please read:\n// https://developer.playcanvas.com/en/user-manual/scripting/\n\n","// anim-trigger.js\nvar AnimTrigger = pc.createScript('animTrigger');\n\nAnimTrigger.attributes.add(\"triggers\", {\n    type: \"string\",\n    array: true\n});\n\n// initialize code called once per entity\nAnimTrigger.prototype.initialize = function () {\n    for (let i = 0; i < this.triggers.length; i++) {\n        this.entity.on(this.triggers[i], () => {\n            this.entity.anim.setTrigger(this.triggers[i], true);\n        }, this);\n    }\n};\n\n// update code called every frame\nAnimTrigger.prototype.update = function (dt) {\n\n};\n\n// swap method called for script hot-reloading\n// inherit your script state here\n// AnimTrigger.prototype.swap = function(old) { };\n\n// to learn more about script anatomy, please read:\n// https://developer.playcanvas.com/en/user-manual/scripting/\n\n","// shadow-catcher.js\nvar ShadowCatcher = pc.createScript('shadowcatcher');\nShadowCatcher.attributes.add('material', { type: 'asset' });\nShadowCatcher.attributes.add('intensity', { type: 'number', min: 0, max: 1, default: 1 });\n\nShadowCatcher.prototype.initialize = function () {\n    // Attach a shader to a material that makes it appear transparent while still receiving shadows.\n    const materialResource = this.material.resource || material;\n    const shadowFragmentShader = `\n        #ifdef GL2\n        #define SHADOW_SAMPLERVS sampler2DShadow\n        #else\n        #define SHADOW_SAMPLERVS sampler2D\n        #endif\n        vec3 dEmissive;\n        uniform float intensity;\n        float getShadowPCF5x5(SHADOW_SAMPLERVS shadowMap, vec3 shadowParams);\n        vec3 getTransparentShadow() {\n            float shadow = getShadowPCF5x5(light0_shadowMap, light0_shadowParams);\n            dAlpha = (1. - clamp(shadow + 0.5, 0., 1.)) * intensity;\n            return -gl_FragColor.rgb;\n        }\n\n        void getEmission() {\n\n        }\n    `;\n\n    const endShader = `\n        gl_FragColor.rgb = combineColor();\n        gl_FragColor.rgb += getTransparentShadow();\n        gl_FragColor.rgb = addFog(gl_FragColor.rgb);\n\n        #ifndef HDR\n        gl_FragColor.rgb = toneMap(gl_FragColor.rgb);\n        gl_FragColor.rgb = gammaCorrectOutput(gl_FragColor.rgb);\n        #endif\n    `;\n\n    // We use emissive because it can overwrite color to be pure black.\n    materialResource.setParameter('intensity', this.intensity);\n    materialResource.chunks.APIVersion = pc.CHUNKAPI_1_57;\n    materialResource.chunks.emissivePS = shadowFragmentShader;\n    materialResource.chunks.endPS = endShader;\n    materialResource.blendType = pc.BLEND_PREMULTIPLIED;\n    materialResource.update();\n\n    this.on('attr:intensity', function (value, prev) {\n        materialResource.setParameter('intensity', value);\n    });\n};\n\n","// cameraAnimation.js\nvar CameraAnimation = pc.createScript('cameraAnimation');\n\n// initialize code called once per entity\nCameraAnimation.prototype.initialize = function () {\n\n    this.orbitPos = undefined;\n    this.orbitRot = undefined;\n\n    this.pos = new pc.Vec3();\n\n};\n\n// update code called every frame\nCameraAnimation.prototype.update = function (dt) {\n\n};\n\nCameraAnimation.prototype.moveTo = function (target) {\n    console.log(\"Moving camera to \", target);\n    this.enableOrbitScripts(false);\n    this.orbitPos = this.entity.getPosition().clone();\n    this.orbitRot = this.entity.getEulerAngles().clone();\n\n    this.pos = this.orbitPos.clone();\n    this.rot = this.orbitRot.clone();\n\n    this.app.tween(this.pos).to(target.getPosition(), 1, pc.Linear).on('update', function (dt) {\n        this.entity.setPosition(this.pos);\n    }, this).start();\n\n    this.app.tween(this.rot).to(target.getEulerAngles(), 1, pc.Linear).on('update', function (dt) {\n        this.entity.setEulerAngles(this.rot);\n    }, this).start();\n};\n\nCameraAnimation.prototype.reset = function () {\n\n    this.app.tween(this.pos).to(this.orbitPos, 1, pc.Linear).on('update', function (dt) {\n        this.entity.setPosition(this.pos);\n    }, this).on(\"complete\", () => this.enableOrbitScripts(true), this).start();\n\n    this.app.tween(this.rot).to(this.orbitRot, 1, pc.Linear).on('update', function (dt) {\n        this.entity.setEulerAngles(this.rot);\n    }, this).start();\n};\n\nCameraAnimation.prototype.enableOrbitScripts = function (bool) {\n    this.entity.script.orbitCamera.enabled = bool;\n    this.entity.script.mouseInput.enabled = bool;\n    this.entity.script.touchInput.enabled = bool;\n\n};\n\n// swap method called for script hot-reloading\n// inherit your script state here\n// CameraAnimation.prototype.swap = function(old) { };\n\n// to learn more about script anatomy, please read:\n// https://developer.playcanvas.com/en/user-manual/scripting/\n\n","// event-to-events.js\nvar EventToEvents = pc.createScript('eventToEvents');\nEventToEvents.attributes.add(\"inputEvent\", {\n    description: \"Event that 'inputTarget' listens for.\",\n    type: \"string\"\n});\nEventToEvents.attributes.add(\"inputTarget\", {\n    description: \"Entity that listens for 'inputEvent'.\",\n    type: \"entity\"\n});\n\nEventToEvents.attributes.add(\"outputEvents\", {\n    type: \"json\",\n    array: true,\n    schema: [{\n        name: \"event\",\n        type: \"string\"\n    }, {\n        name: \"target\",\n        type: \"entity\"\n    }]\n});\n\n// initialize code called once per entity\nEventToEvents.prototype.initialize = function () {\n    let input = this.inputTarget ? this.inputTarget : this.app;\n\n    input.on(this.inputEvent, () => {\n        this.outputEvents.forEach((e) => {\n            let output = e.target ? e.target : this.app;\n            output.fire(e.event);\n        });\n    }, this);\n};\n\n// update code called every frame\nEventToEvents.prototype.update = function (dt) {\n\n};\n\n","// EntityEnableOnAr.js\nvar EntityEnableOnAr = pc.createScript('entityEnableOnAr');\n\n/** Attributes */\n\nEntityEnableOnAr.attributes.add('enableOnDefault', {\n    type: 'boolean',\n    description: 'If set to true, this Entity will be Enabled when not in AR mode.',\n    default: true\n});\n\nEntityEnableOnAr.attributes.add('enableOnAR', {\n    type: 'string',\n    enum: [\n        { 'Disabled': 'disabled' },\n        { 'Always': 'always' },\n        { 'On Tracking': 'onTracking' }\n    ],\n    description: `Disabled: entity will always be disabled during AR session;\n        Always: entity will always be enabled during AR session, regardless if XR is available;\n        On Tracking: entity will only be enabled after the AR session has started tracking.`,\n    default: 'onTracking'\n});\n\n/** Lifecycle Methods */\n\n/**\n * Initialize - setup internal state, resources, listeners.\n */\nEntityEnableOnAr.prototype.initialize = function() {\n    this._registerListeners('on');\n    this.on('destroy', this._onDestroy, this);\n};\n\nEntityEnableOnAr.prototype.postInitialize = function() {\n    this.entity.enabled = this.enableOnDefault;\n};\n\n/**\n * Destroy - clean up resources, listeners.\n */\nEntityEnableOnAr.prototype._onDestroy = function() {\n    this._registerListeners('off');\n};\n\n/** Event Handlers */\n\n/**\n * Register this script's listeners which need to be cleared on entity destruction.\n *\n * @param {string} onOrOff - \"on\" for attaching the listeners; use \"off\" for detaching.\n */\nEntityEnableOnAr.prototype._registerListeners = function(onOrOff) {\n    this.app[onOrOff]('ar:request:start', this._startAugmentedRealitySession, this);\n    this.app[onOrOff]('ar:onStart', this._onArStart, this);\n    this.app[onOrOff]('ar:onTracking', this._onArTracking, this);\n    this.app[onOrOff]('ar:onEnd', this._onArEnd, this);\n};\n\nEntityEnableOnAr.prototype._startAugmentedRealitySession = function() {\n    this.entity.enabled = false;\n};\n\nEntityEnableOnAr.prototype._onArStart = function() {\n    if (this.enableOnAR === 'always') {\n        this.entity.enabled = true;\n    } else {\n        this.entity.enabled = false;\n    }\n};\n\nEntityEnableOnAr.prototype._onArTracking = function() {\n    if (this.enableOnAR === 'onTracking') {\n        this.entity.enabled = true;\n    }\n};\n\nEntityEnableOnAr.prototype._onArEnd = function() {\n    if (this.enableOnDefault) {\n        this.entity.enabled = true;\n    }\n};\n\n\n","// html-loader.js\nvar HtmlLoader = pc.createScript('htmlLoader');\n\nHtmlLoader.attributes.add('html', { type: 'asset', assetType: 'html', title: 'Html Asset' });\n\nHtmlLoader.attributes.add('cssAssets', { type: 'asset', assetType: 'css', array: true, title: 'Css Assets' });\n\nHtmlLoader.attributes.add(\"externalScripts\", {\n    type: \"asset\",\n    array: true\n});\n\nHtmlLoader.attributes.add('binderScriptName', {\n    type: 'string',\n    title: 'Binder Script Name'\n});\n\nHtmlLoader.attributes.add('imgAssets', {\n    type: \"json\",\n    array: true,\n    schema: [{\n        name: \"class\",\n        type: \"string\"\n    }, {\n        name: \"img\",\n        type: \"asset\"\n    }]\n});\n\nHtmlLoader.attributes.add('imgUrls', {\n    type: \"json\",\n    array: true,\n    schema: [{\n        name: \"class\",\n        type: \"string\"\n    }, {\n        name: \"url\",\n        type: \"string\"\n    }]\n});\n\n\n// initialize code called once per entity\nHtmlLoader.prototype.initialize = function () {\n    this.htmlElement = document.createElement('div');\n    this.htmlElement.innerHTML = this.html.resource;\n    this.htmlElement.style.opacity = 0;\n    document.body.appendChild(this.htmlElement);\n\n    this.on(\"destory\", function () {\n        this.htmlElement.remove();\n    });\n    this.loadCss();\n    this.bindScripts();\n\n    this.loadImg();\n};\n\n// update code called every frame\nHtmlLoader.prototype.update = function (dt) {\n\n};\n\nHtmlLoader.prototype.loadImg = function () {\n    var self = this;\n    for (var i = 0; i < this.imgAssets.length; i++) {\n        let elem = document.getElementById(this.imgAssets[i].class);\n        if (elem) {\n            elem.src = this.imgAssets[i].img.getFileUrl();\n        } else\n            document.querySelectorAll(\".\" + this.imgAssets[i].class).forEach((img) => {\n                img.src = this.imgAssets[i].img.getFileUrl();\n\n            }, this);\n    }\n    for (var i = 0; i < this.imgUrls.length; i++) {\n        let elem = document.getElementById(this.imgUrls[i].class);\n        if (elem) {\n            elem.src = this.imgUrls[i].url;\n        } else\n            document.querySelectorAll(\".\" + this.imgUrls[i].class).forEach((img) => {\n                img.src = this.imgUrls[i].url;\n\n            }, this);\n    }\n};\n\nHtmlLoader.prototype.loadCss = function () {\n    this.counter = 0;\n    for (var i = 0; i < this.cssAssets.length; i++) {\n        var css = document.createElement(\"link\");\n        css.rel = \"stylesheet\";\n        css.type = \"text/css\";\n        css.onload = () => {\n            this.counter++;\n            this.onLoaded();\n        };\n        css.href = this.cssAssets[i].getFileUrl();\n        document.head.appendChild(css);\n        console.log(css);\n        this.on(\"destroy\", function () {\n            css.remove();\n        }, this);\n    }\n    this.onLoaded();\n};\n\nHtmlLoader.prototype.onLoaded = function () {\n    if (this.counter >= this.cssAssets.length) {\n        this.htmlElement.style.opacity = 1;\n    }\n};\n\nHtmlLoader.prototype.bindScripts = function () {\n    var promises = [];\n\n    for (var i = 0; i < this.externalScripts.length; i++) {\n\n        console.log(this.externalScripts[i]);\n        var url = this.externalScripts[i].getFileUrl();\n        const script = document.createElement('script');\n        script.src = url;\n\n        const promise = new Promise((resolve, reject) => {\n            script.addEventListener(\"load\", () => {\n                console.log(\"Script \" + script + \" loaded\");\n                resolve();\n            });\n        });\n        promises.push(promise);\n\n\n        document.head.appendChild(script);\n\n        this.on('destroy', function () {\n            script.remove();\n        });\n    }\n\n\n    Promise.all(promises).then(() => {\n        if (this.binderScriptName != \"\") {\n            this.scriptBinder = this.entity.script.get(this.binderScriptName);\n\n            this.scriptBinder.bindEvents(this.htmlElement);\n        }\n    });\n};\n\n// swap method called for script hot-reloading\n// inherit your script state here\n// Cck.prototype.swap = function(old) { };\n\n// to learn more about script anatomy, please read:\n// https://developer.playcanvas.com/en/user-manual/scripting/\n\n","// tween.js\npc.extend(pc, function () {\n\n    /**\n     * @name pc.TweenManager\n     * @description Handles updating tweens\n     * @param {pc.AppBase} app - The AppBase instance.\n     */\n    var TweenManager = function (app) {\n        this._app = app;\n        this._tweens = [];\n        this._add = []; // to be added\n    };\n\n    TweenManager.prototype = {\n        add: function (tween) {\n            this._add.push(tween);\n            return tween;\n        },\n\n        update: function (dt) {\n            var i = 0;\n            var n = this._tweens.length;\n            while (i < n) {\n                if (this._tweens[i].update(dt)) {\n                    i++;\n                } else {\n                    this._tweens.splice(i, 1);\n                    n--;\n                }\n            }\n\n            // add any tweens that were added mid-update\n            if (this._add.length) {\n                for (let i = 0; i < this._add.length; i++) {\n                    if (this._tweens.indexOf(this._add[i]) > -1) continue;\n                    this._tweens.push(this._add[i]);\n                }\n                this._add.length = 0;\n            }\n        }\n    };\n\n    /**\n     * @name  pc.Tween\n     * @param {object} target - The target property that will be tweened\n     * @param {pc.TweenManager} manager - The tween manager\n     * @param {pc.Entity} entity - The pc.Entity whose property we are tweening\n     */\n    var Tween = function (target, manager, entity) {\n        pc.events.attach(this);\n\n        this.manager = manager;\n\n        if (entity) {\n            this.entity = null; // if present the tween will dirty the transforms after modify the target\n        }\n\n        this.time = 0;\n\n        this.complete = false;\n        this.playing = false;\n        this.stopped = true;\n        this.pending = false;\n\n        this.target = target;\n\n        this.duration = 0;\n        this._currentDelay = 0;\n        this.timeScale = 1;\n        this._reverse = false;\n\n        this._delay = 0;\n        this._yoyo = false;\n\n        this._count = 0;\n        this._numRepeats = 0;\n        this._repeatDelay = 0;\n\n        this._from = false; // indicates a \"from\" tween\n\n        // for rotation tween\n        this._slerp = false; // indicates a rotation tween\n        this._fromQuat = new pc.Quat();\n        this._toQuat = new pc.Quat();\n        this._quat = new pc.Quat();\n\n        this.easing = pc.Linear;\n\n        this._sv = {}; // start values\n        this._ev = {}; // end values\n    };\n\n    var _parseProperties = function (properties) {\n        var _properties;\n        if (properties instanceof pc.Vec2) {\n            _properties = {\n                x: properties.x,\n                y: properties.y\n            };\n        } else if (properties instanceof pc.Vec3) {\n            _properties = {\n                x: properties.x,\n                y: properties.y,\n                z: properties.z\n            };\n        } else if (properties instanceof pc.Vec4) {\n            _properties = {\n                x: properties.x,\n                y: properties.y,\n                z: properties.z,\n                w: properties.w\n            };\n        } else if (properties instanceof pc.Quat) {\n            _properties = {\n                x: properties.x,\n                y: properties.y,\n                z: properties.z,\n                w: properties.w\n            };\n        } else if (properties instanceof pc.Color) {\n            _properties = {\n                r: properties.r,\n                g: properties.g,\n                b: properties.b\n            };\n            if (properties.a !== undefined) {\n                _properties.a = properties.a;\n            }\n        } else {\n            _properties = properties;\n        }\n        return _properties;\n    };\n    Tween.prototype = {\n        // properties - js obj of values to update in target\n        to: function (properties, duration, easing, delay, repeat, yoyo) {\n            this._properties = _parseProperties(properties);\n            this.duration = duration;\n\n            if (easing) this.easing = easing;\n            if (delay) {\n                this.delay(delay);\n            }\n            if (repeat) {\n                this.repeat(repeat);\n            }\n\n            if (yoyo) {\n                this.yoyo(yoyo);\n            }\n\n            return this;\n        },\n\n        from: function (properties, duration, easing, delay, repeat, yoyo) {\n            this._properties = _parseProperties(properties);\n            this.duration = duration;\n\n            if (easing) this.easing = easing;\n            if (delay) {\n                this.delay(delay);\n            }\n            if (repeat) {\n                this.repeat(repeat);\n            }\n\n            if (yoyo) {\n                this.yoyo(yoyo);\n            }\n\n            this._from = true;\n\n            return this;\n        },\n\n        rotate: function (properties, duration, easing, delay, repeat, yoyo) {\n            this._properties = _parseProperties(properties);\n\n            this.duration = duration;\n\n            if (easing) this.easing = easing;\n            if (delay) {\n                this.delay(delay);\n            }\n            if (repeat) {\n                this.repeat(repeat);\n            }\n\n            if (yoyo) {\n                this.yoyo(yoyo);\n            }\n\n            this._slerp = true;\n\n            return this;\n        },\n\n        start: function () {\n            var prop, _x, _y, _z;\n\n            this.playing = true;\n            this.complete = false;\n            this.stopped = false;\n            this._count = 0;\n            this.pending = (this._delay > 0);\n\n            if (this._reverse && !this.pending) {\n                this.time = this.duration;\n            } else {\n                this.time = 0;\n            }\n\n            if (this._from) {\n                for (prop in this._properties) {\n                    if (this._properties.hasOwnProperty(prop)) {\n                        this._sv[prop] = this._properties[prop];\n                        this._ev[prop] = this.target[prop];\n                    }\n                }\n\n                if (this._slerp) {\n                    this._toQuat.setFromEulerAngles(this.target.x, this.target.y, this.target.z);\n\n                    _x = this._properties.x !== undefined ? this._properties.x : this.target.x;\n                    _y = this._properties.y !== undefined ? this._properties.y : this.target.y;\n                    _z = this._properties.z !== undefined ? this._properties.z : this.target.z;\n                    this._fromQuat.setFromEulerAngles(_x, _y, _z);\n                }\n            } else {\n                for (prop in this._properties) {\n                    if (this._properties.hasOwnProperty(prop)) {\n                        this._sv[prop] = this.target[prop];\n                        this._ev[prop] = this._properties[prop];\n                    }\n                }\n\n                if (this._slerp) {\n                    _x = this._properties.x !== undefined ? this._properties.x : this.target.x;\n                    _y = this._properties.y !== undefined ? this._properties.y : this.target.y;\n                    _z = this._properties.z !== undefined ? this._properties.z : this.target.z;\n\n                    if (this._properties.w !== undefined) {\n                        this._fromQuat.copy(this.target);\n                        this._toQuat.set(_x, _y, _z, this._properties.w);\n                    } else {\n                        this._fromQuat.setFromEulerAngles(this.target.x, this.target.y, this.target.z);\n                        this._toQuat.setFromEulerAngles(_x, _y, _z);\n                    }\n                }\n            }\n\n            // set delay\n            this._currentDelay = this._delay;\n\n            // add to manager when started\n            this.manager.add(this);\n\n            return this;\n        },\n\n        pause: function () {\n            this.playing = false;\n        },\n\n        resume: function () {\n            this.playing = true;\n        },\n\n        stop: function () {\n            this.playing = false;\n            this.stopped = true;\n        },\n\n        delay: function (delay) {\n            this._delay = delay;\n            this.pending = true;\n\n            return this;\n        },\n\n        repeat: function (num, delay) {\n            this._count = 0;\n            this._numRepeats = num;\n            if (delay) {\n                this._repeatDelay = delay;\n            } else {\n                this._repeatDelay = 0;\n            }\n\n            return this;\n        },\n\n        loop: function (loop) {\n            if (loop) {\n                this._count = 0;\n                this._numRepeats = Infinity;\n            } else {\n                this._numRepeats = 0;\n            }\n\n            return this;\n        },\n\n        yoyo: function (yoyo) {\n            this._yoyo = yoyo;\n            return this;\n        },\n\n        reverse: function () {\n            this._reverse = !this._reverse;\n\n            return this;\n        },\n\n        chain: function () {\n            var n = arguments.length;\n\n            while (n--) {\n                if (n > 0) {\n                    arguments[n - 1]._chained = arguments[n];\n                } else {\n                    this._chained = arguments[n];\n                }\n            }\n\n            return this;\n        },\n\n        update: function (dt) {\n            if (this.stopped) return false;\n\n            if (!this.playing) return true;\n\n            if (!this._reverse || this.pending) {\n                this.time += dt * this.timeScale;\n            } else {\n                this.time -= dt * this.timeScale;\n            }\n\n            // delay start if required\n            if (this.pending) {\n                if (this.time > this._currentDelay) {\n                    if (this._reverse) {\n                        this.time = this.duration - (this.time - this._currentDelay);\n                    } else {\n                        this.time -= this._currentDelay;\n                    }\n                    this.pending = false;\n                } else {\n                    return true;\n                }\n            }\n\n            var _extra = 0;\n            if ((!this._reverse && this.time > this.duration) || (this._reverse && this.time < 0)) {\n                this._count++;\n                this.complete = true;\n                this.playing = false;\n                if (this._reverse) {\n                    _extra = this.duration - this.time;\n                    this.time = 0;\n                } else {\n                    _extra = this.time - this.duration;\n                    this.time = this.duration;\n                }\n            }\n\n            var elapsed = (this.duration === 0) ? 1 : (this.time / this.duration);\n\n            // run easing\n            var a = this.easing(elapsed);\n\n            // increment property\n            var s, e;\n            for (var prop in this._properties) {\n                if (this._properties.hasOwnProperty(prop)) {\n                    s = this._sv[prop];\n                    e = this._ev[prop];\n                    this.target[prop] = s + (e - s) * a;\n                }\n            }\n\n            if (this._slerp) {\n                this._quat.slerp(this._fromQuat, this._toQuat, a);\n            }\n\n            // if this is a entity property then we should dirty the transform\n            if (this.entity) {\n                this.entity._dirtifyLocal();\n\n                // apply element property changes\n                if (this.element && this.entity.element) {\n                    this.entity.element[this.element] = this.target;\n                }\n\n                if (this._slerp) {\n                    this.entity.setLocalRotation(this._quat);\n                }\n            }\n\n            this.fire(\"update\", dt);\n\n            if (this.complete) {\n                var repeat = this._repeat(_extra);\n                if (!repeat) {\n                    this.fire(\"complete\", _extra);\n                    if (this.entity)\n                        this.entity.off('destroy', this.stop, this);\n                    if (this._chained) this._chained.start();\n                } else {\n                    this.fire(\"loop\");\n                }\n\n                return repeat;\n            }\n\n            return true;\n        },\n\n        _repeat: function (extra) {\n            // test for repeat conditions\n            if (this._count < this._numRepeats) {\n                // do a repeat\n                if (this._reverse) {\n                    this.time = this.duration - extra;\n                } else {\n                    this.time = extra; // include overspill time\n                }\n                this.complete = false;\n                this.playing = true;\n\n                this._currentDelay = this._repeatDelay;\n                this.pending = true;\n\n                if (this._yoyo) {\n                    // swap start/end properties\n                    for (var prop in this._properties) {\n                        var tmp = this._sv[prop];\n                        this._sv[prop] = this._ev[prop];\n                        this._ev[prop] = tmp;\n                    }\n\n                    if (this._slerp) {\n                        this._quat.copy(this._fromQuat);\n                        this._fromQuat.copy(this._toQuat);\n                        this._toQuat.copy(this._quat);\n                    }\n                }\n\n                return true;\n            }\n            return false;\n        }\n\n    };\n\n\n    /**\n     * Easing methods\n     */\n\n    var Linear = function (k) {\n        return k;\n    };\n\n    var QuadraticIn = function (k) {\n        return k * k;\n    };\n\n    var QuadraticOut = function (k) {\n        return k * (2 - k);\n    };\n\n    var QuadraticInOut = function (k) {\n        if ((k *= 2) < 1) {\n            return 0.5 * k * k;\n        }\n        return -0.5 * (--k * (k - 2) - 1);\n    };\n\n    var CubicIn = function (k) {\n        return k * k * k;\n    };\n\n    var CubicOut = function (k) {\n        return --k * k * k + 1;\n    };\n\n    var CubicInOut = function (k) {\n        if ((k *= 2) < 1) return 0.5 * k * k * k;\n        return 0.5 * ((k -= 2) * k * k + 2);\n    };\n\n    var QuarticIn = function (k) {\n        return k * k * k * k;\n    };\n\n    var QuarticOut = function (k) {\n        return 1 - (--k * k * k * k);\n    };\n\n    var QuarticInOut = function (k) {\n        if ((k *= 2) < 1) return 0.5 * k * k * k * k;\n        return -0.5 * ((k -= 2) * k * k * k - 2);\n    };\n\n    var QuinticIn = function (k) {\n        return k * k * k * k * k;\n    };\n\n    var QuinticOut = function (k) {\n        return --k * k * k * k * k + 1;\n    };\n\n    var QuinticInOut = function (k) {\n        if ((k *= 2) < 1) return 0.5 * k * k * k * k * k;\n        return 0.5 * ((k -= 2) * k * k * k * k + 2);\n    };\n\n    var SineIn = function (k) {\n        if (k === 0) return 0;\n        if (k === 1) return 1;\n        return 1 - Math.cos(k * Math.PI / 2);\n    };\n\n    var SineOut = function (k) {\n        if (k === 0) return 0;\n        if (k === 1) return 1;\n        return Math.sin(k * Math.PI / 2);\n    };\n\n    var SineInOut = function (k) {\n        if (k === 0) return 0;\n        if (k === 1) return 1;\n        return 0.5 * (1 - Math.cos(Math.PI * k));\n    };\n\n    var ExponentialIn = function (k) {\n        return k === 0 ? 0 : Math.pow(1024, k - 1);\n    };\n\n    var ExponentialOut = function (k) {\n        return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n    };\n\n    var ExponentialInOut = function (k) {\n        if (k === 0) return 0;\n        if (k === 1) return 1;\n        if ((k *= 2) < 1) return 0.5 * Math.pow(1024, k - 1);\n        return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n    };\n\n    var CircularIn = function (k) {\n        return 1 - Math.sqrt(1 - k * k);\n    };\n\n    var CircularOut = function (k) {\n        return Math.sqrt(1 - (--k * k));\n    };\n\n    var CircularInOut = function (k) {\n        if ((k *= 2) < 1) return -0.5 * (Math.sqrt(1 - k * k) - 1);\n        return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n    };\n\n    var ElasticIn = function (k) {\n        var s, a = 0.1, p = 0.4;\n        if (k === 0) return 0;\n        if (k === 1) return 1;\n        if (!a || a < 1) {\n            a = 1; s = p / 4;\n        } else s = p * Math.asin(1 / a) / (2 * Math.PI);\n        return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n    };\n\n    var ElasticOut = function (k) {\n        var s, a = 0.1, p = 0.4;\n        if (k === 0) return 0;\n        if (k === 1) return 1;\n        if (!a || a < 1) {\n            a = 1; s = p / 4;\n        } else s = p * Math.asin(1 / a) / (2 * Math.PI);\n        return (a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1);\n    };\n\n    var ElasticInOut = function (k) {\n        var s, a = 0.1, p = 0.4;\n        if (k === 0) return 0;\n        if (k === 1) return 1;\n        if (!a || a < 1) {\n            a = 1; s = p / 4;\n        } else s = p * Math.asin(1 / a) / (2 * Math.PI);\n        if ((k *= 2) < 1) return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n        return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n    };\n\n    var BackIn = function (k) {\n        var s = 1.70158;\n        return k * k * ((s + 1) * k - s);\n    };\n\n    var BackOut = function (k) {\n        var s = 1.70158;\n        return --k * k * ((s + 1) * k + s) + 1;\n    };\n\n    var BackInOut = function (k) {\n        var s = 1.70158 * 1.525;\n        if ((k *= 2) < 1) return 0.5 * (k * k * ((s + 1) * k - s));\n        return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n    };\n\n    var BounceOut = function (k) {\n        if (k < (1 / 2.75)) {\n            return 7.5625 * k * k;\n        } else if (k < (2 / 2.75)) {\n            return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n        } else if (k < (2.5 / 2.75)) {\n            return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n        }\n        return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n\n    };\n\n    var BounceIn = function (k) {\n        return 1 - BounceOut(1 - k);\n    };\n\n    var BounceInOut = function (k) {\n        if (k < 0.5) return BounceIn(k * 2) * 0.5;\n        return BounceOut(k * 2 - 1) * 0.5 + 0.5;\n    };\n\n    return {\n        TweenManager: TweenManager,\n        Tween: Tween,\n        Linear: Linear,\n        QuadraticIn: QuadraticIn,\n        QuadraticOut: QuadraticOut,\n        QuadraticInOut: QuadraticInOut,\n        CubicIn: CubicIn,\n        CubicOut: CubicOut,\n        CubicInOut: CubicInOut,\n        QuarticIn: QuarticIn,\n        QuarticOut: QuarticOut,\n        QuarticInOut: QuarticInOut,\n        QuinticIn: QuinticIn,\n        QuinticOut: QuinticOut,\n        QuinticInOut: QuinticInOut,\n        SineIn: SineIn,\n        SineOut: SineOut,\n        SineInOut: SineInOut,\n        ExponentialIn: ExponentialIn,\n        ExponentialOut: ExponentialOut,\n        ExponentialInOut: ExponentialInOut,\n        CircularIn: CircularIn,\n        CircularOut: CircularOut,\n        CircularInOut: CircularInOut,\n        BackIn: BackIn,\n        BackOut: BackOut,\n        BackInOut: BackInOut,\n        BounceIn: BounceIn,\n        BounceOut: BounceOut,\n        BounceInOut: BounceInOut,\n        ElasticIn: ElasticIn,\n        ElasticOut: ElasticOut,\n        ElasticInOut: ElasticInOut\n    };\n}());\n\n// Expose prototype methods and create a default tween manager on the AppBase\n(function () {\n    // Add pc.AppBase#addTweenManager method\n    pc.AppBase.prototype.addTweenManager = function () {\n        this._tweenManager = new pc.TweenManager(this);\n\n        this.on(\"update\", function (dt) {\n            this._tweenManager.update(dt);\n        });\n    };\n\n    // Add pc.AppBase#tween method\n    pc.AppBase.prototype.tween = function (target) {\n        return new pc.Tween(target, this._tweenManager);\n    };\n\n    // Add pc.Entity#tween method\n    pc.Entity.prototype.tween = function (target, options) {\n        var tween = this._app.tween(target);\n        tween.entity = this;\n\n        this.once('destroy', tween.stop, tween);\n\n        if (options && options.element) {\n            // specifiy a element property to be updated\n            tween.element = options.element;\n        }\n        return tween;\n    };\n\n    // Create a default tween manager on the AppBase\n    var AppBase = pc.AppBase.getApplication();\n    if (AppBase) {\n        AppBase.addTweenManager();\n    }\n})();\n\n\n","// ar-ground.js\nvar ArGround = pc.createScript('ar-ground');\nArGround.attributes.add('material', { type: 'asset' });\nArGround.attributes.add('intensity', { type: 'number', min: 0, max: 1, default: 1 });\n\nArGround.prototype.initialize = function () {\n    // Attach a shader to a material that makes it appear transparent while still receiving shadows.\n    const materialResource = this.material.resource;\n    materialResource.chunks.APIVersion = pc.CHUNKAPI_1_62;\n    materialResource.chunks.endPS = `\n        litShaderArgs.opacity = mix(light0_shadowIntensity, 0.0, shadow0);\n        gl_FragColor.rgb = vec3(0.0);\n    `;\n\n    materialResource.blendType = pc.BLEND_PREMULTIPLIED;\n    materialResource.update();\n\n    this.on('attr:intensity', function (value, prev) {\n        materialResource.setParameter('intensity', value);\n    });\n};\n\n"]}